"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[604],{4991:function(t,e,n){n.d(e,{gK:function(){return a},aW:function(){return i},jo:function(){return s},_l:function(){return r}});const a=10,i="asc",s="desc",r="sort"},9044:function(t,e,n){n.d(e,{T:function(){return u}});var a=n(6006),i=n(7194),s=n(4477),r=n(8036),o=n(2741),c=n(6059);let u=(()=>{class t{constructor(t){this.sort=t,this.sortIcon=r.CmM,this.sortAscIcon=r.foy,this.sortDescIcon=r.u9C,this.destroy$=new a.xQ,t.predicateChange.pipe((0,i.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),t.ascendingChange.pipe((0,i.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let t=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(t=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=t.iconName,this.iconComponent.render()}}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.b,1))},t.\u0275dir=o.lG2({type:t,selectors:[["","jhiSortBy",""]],contentQueries:function(t,e,n){if(1&t&&o.Suo(n,s.BN,5),2&t){let t;o.iGM(t=o.CRH())&&(e.iconComponent=t.first)}},hostBindings:function(t,e){1&t&&o.NdJ("click",function(){return e.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),t})()},6059:function(t,e,n){n.d(e,{b:function(){return i}});var a=n(2741);let i=(()=>{class t{constructor(){this.predicateChange=new a.vpe,this.ascendingChange=new a.vpe,this.sortChange=new a.vpe}get predicate(){return this._predicate}set predicate(t){this._predicate=t,this.predicateChange.emit(t)}get ascending(){return this._ascending}set ascending(t){this._ascending=t,this.ascendingChange.emit(t)}sort(t){this.ascending=t!==this.predicate||!this.ascending,this.predicate=t,this.predicateChange.emit(t),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=a.lG2({type:t,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),t})()},7604:function(t,e,n){n.r(e),n.d(e,{StreamModule:function(){return ut}});var a=n(8335),i=n(1499),s=n(1382),r=n(6643),o=n(9375),c=n(267),u=n(3324),l=n(5113);class d{constructor(t,e,n,a,i,s,r,o,c,u,l,d,m,g,h,p,U,_,f,Z,b){this.id=t,this.query=e,this.active=n,this.createdBy=a,this.createdDate=i,this.lastModifiedBy=s,this.lastModifiedDate=r,this.idUsuario=o,this.usuarioAsignado=c,this.socialNetworks=u,this.topics=l,this.languages=d,this.countries=m,this.company=g,this.idStream=h,this.maxRowCount=p,this.name=U,this.companyName=_,this.startDate=f,this.endDate=Z,this.searchType=b}}var m=n(7390),g=n(9764),h=n(2741),p=n(7709),U=n(1633),_=n(222),f=n(4243),Z=n(6662),b=n(4477);function T(t,e){1&t&&(h.TgZ(0,"h2",7),h._uU(1,"Add stream"),h.qZA())}function v(t,e){1&t&&(h.TgZ(0,"h2",8),h._uU(1,"Update stream"),h.qZA())}function q(t,e){1&t&&(h.TgZ(0,"div"),h._uU(1,"\n              "),h.TgZ(2,"small",48),h._uU(3,"\n                This field cannot be longer than 30 characters.\n              "),h.qZA(),h._uU(4,"\n            "),h.qZA())}const y=function(){return{max:40}};function A(t,e){1&t&&(h.TgZ(0,"small",50),h._uU(1,"\n                This field cannot be longer than 40 characters.\n              "),h.qZA()),2&t&&h.Q6J("translateValues",h.DdM(1,y))}function x(t,e){if(1&t&&(h.TgZ(0,"div"),h._uU(1,"\n              "),h.YNc(2,A,2,2,"small",49),h._uU(3,"\n            "),h.qZA()),2&t){const t=h.oxw(2);let e;h.xp6(2),h.Q6J("ngIf",null==(e=t.editForm.get("name"))||null==e.errors?null:e.errors.maxlength)}}function S(t,e){1&t&&(h.TgZ(0,"label",51),h._uU(1,"startDate *"),h.qZA())}function C(t,e){1&t&&(h.TgZ(0,"label",52),h._uU(1,"startDate"),h.qZA())}function I(t,e){1&t&&(h.TgZ(0,"label",53),h._uU(1,"endDate"),h.qZA())}function j(t,e){1&t&&(h.TgZ(0,"label",54),h._uU(1,"endDate *"),h.qZA())}const M=function(){return{max:500}};function N(t,e){1&t&&(h.TgZ(0,"small",50),h._uU(1,"\n                This field cannot be longer than 500 characters\n              "),h.qZA()),2&t&&h.Q6J("translateValues",h.DdM(1,M))}function k(t,e){if(1&t&&(h.TgZ(0,"div"),h._uU(1,"\n              "),h.YNc(2,N,2,2,"small",49),h._uU(3,"\n            "),h.qZA()),2&t){const t=h.oxw(2);let e;h.xp6(2),h.Q6J("ngIf",null==(e=t.editForm.get("query"))||null==e.errors?null:e.errors.maxlength)}}function F(t,e){1&t&&(h.TgZ(0,"label",55),h._uU(1,"Topic *"),h.qZA())}function D(t,e){1&t&&(h.TgZ(0,"label",56),h._uU(1,"Topic"),h.qZA())}function w(t,e){1&t&&(h.TgZ(0,"label",57),h._uU(1," *"),h.qZA())}function J(t,e){1&t&&h._UZ(0,"label",58)}function Q(t,e){1&t&&h._UZ(0,"input",59)}function Y(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div"),h._uU(1,"\n          "),h._UZ(2,"jhi-alert-error"),h._uU(3,"\n       \n          "),h.TgZ(4,"div",9),h._uU(5,"\n            "),h.TgZ(6,"label",10),h._uU(7,"ID"),h.qZA(),h._uU(8,"\n            "),h._UZ(9,"input",11),h._uU(10,"\n          "),h.qZA(),h._uU(11,"\n\n        \n          "),h.TgZ(12,"div",9),h._uU(13,"\n            "),h._UZ(14,"label",12),h._uU(15,"\n            "),h._UZ(16,"input",13),h._uU(17,"\n            "),h._UZ(18,"span",14),h._uU(19,"\n            "),h.YNc(20,q,5,0,"div",5),h._uU(21,"\n            "),h.YNc(22,x,4,1,"div",5),h._uU(23,"\n          "),h.qZA(),h._uU(24,"\n         \n          \n          "),h.TgZ(25,"div",15),h._uU(26,"\n            "),h.TgZ(27,"label",16),h._uU(28,"Language *"),h.qZA(),h._uU(29,"\n              "),h.TgZ(30,"ng-multiselect-dropdown",17),h._uU(31,"\n                "),h.qZA(),h._uU(32,"\n              "),h.qZA(),h._uU(33,"\n              \n              "),h.TgZ(34,"div",15),h._uU(35,"\n                "),h.TgZ(36,"label",18),h._uU(37,"Country *"),h.qZA(),h._uU(38,"\n                  "),h.TgZ(39,"ng-multiselect-dropdown",19),h._uU(40,"\n                    "),h.qZA(),h._uU(41,"\n                  "),h.qZA(),h._uU(42,"\n                  \n            "),h.TgZ(43,"div",20),h._uU(44,"\n                      "),h.TgZ(45,"div",21),h._uU(46," \n                        "),h.YNc(47,S,2,0,"label",22),h._uU(48,"\n            "),h.YNc(49,C,2,0,"label",23),h._uU(50,"\n                        "),h.TgZ(51,"div",24),h._uU(52,"\n                          \n                            "),h._UZ(53,"input",25,26),h._uU(55,"\n                            "),h.TgZ(56,"div",27),h._uU(57,"\n                                "),h.TgZ(58,"button",28),h.NdJ("click",function(){return h.CHM(t),h.MAs(54).toggle()}),h._UZ(59,"i",29),h.qZA(),h._uU(60,"\n                            "),h.qZA(),h._uU(61,"\n                        "),h.qZA(),h._uU(62,"\n                      "),h.qZA(),h._uU(63,"\n                    "),h.TgZ(64,"div",21),h._uU(65," \n                      \n            "),h.YNc(66,I,2,0,"label",30),h._uU(67,"\n                      "),h.YNc(68,j,2,0,"label",31),h._uU(69,"\n                        "),h.TgZ(70,"div",24),h._uU(71,"\n                            "),h._UZ(72,"input",32,33),h._uU(74,"\n                            "),h.TgZ(75,"div",27),h._uU(76,"\n                                "),h.TgZ(77,"button",28),h.NdJ("click",function(){return h.CHM(t),h.MAs(73).toggle()}),h._UZ(78,"i",29),h.qZA(),h._uU(79,"\n                            "),h.qZA(),h._uU(80,"\n                        "),h.qZA(),h._uU(81,"\n                    "),h.qZA(),h._uU(82,"\n                    "),h.qZA(),h._uU(83,"\n\n          "),h.TgZ(84,"div",15),h._uU(85,"\n            "),h._UZ(86,"label",34),h._uU(87,"\n            "),h.TgZ(88,"input",35),h.NdJ("keypress",function(e){return h.CHM(t),h.oxw().checkNumberValue(e)})("bur",function(e){return h.CHM(t),h.oxw().checkNumberValue(e)}),h.qZA(),h._uU(89,"\n           \n          "),h.qZA(),h._uU(90,"\n\n          "),h.TgZ(91,"div",15),h._uU(92,"\n            "),h.TgZ(93,"label",36),h._uU(94,"Query"),h.qZA(),h._uU(95,"\n            "),h.TgZ(96,"textarea",37),h._uU(97,"            "),h.qZA(),h._uU(98,"\n            "),h.YNc(99,k,4,1,"div",5),h._uU(100,"\n          "),h.qZA(),h._uU(101,"\n\n         \n\n          "),h.TgZ(102,"div",15),h._uU(103,"\n            "),h.YNc(104,F,2,0,"label",38),h._uU(105,"\n            "),h.YNc(106,D,2,0,"label",39),h._uU(107,"\n              "),h.TgZ(108,"ng-multiselect-dropdown",40),h._uU(109,"\n                "),h.qZA(),h._uU(110,"\n              "),h.qZA(),h._uU(111,"\n              \n\n\n          "),h.TgZ(112,"div",15),h._uU(113,"\n            "),h.YNc(114,w,2,0,"label",41),h._uU(115,"\n            "),h.YNc(116,J,1,0,"label",42),h._uU(117,"\n          "),h.TgZ(118,"ng-multiselect-dropdown",43),h._uU(119,"\n            "),h.qZA(),h._uU(120,"\n          "),h.qZA(),h._uU(121,"\n          \n\n          "),h.TgZ(122,"div",44),h._uU(123,"\n            "),h.TgZ(124,"label",45),h._uU(125,"\n              "),h.YNc(126,Q,1,0,"input",46),h._uU(127,"\n              "),h.TgZ(128,"span",47),h._uU(129,"Activated"),h.qZA(),h._uU(130,"\n            "),h.qZA(),h._uU(131,"\n          "),h.qZA(),h._uU(132,"\n        "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(4),h.Q6J("hidden",!t.stream.id),h.xp6(8),h.Q6J("hidden",t.stream.id),h.xp6(8),h.Q6J("ngIf",t.streamStartWithNumber),h.xp6(2),h.Q6J("ngIf",t.editForm.get("name").invalid&&(t.editForm.get("name").dirty||t.editForm.get("name").touched)),h.xp6(8),h.Q6J("placeholder",t.getPlaceholder("streamManagement.select"))("settings",t.sNetworkSettings)("data",t.language),h.xp6(9),h.Q6J("placeholder",t.getPlaceholder("streamManagement.select"))("settings",t.sNetworkSettings)("data",t.countries),h.xp6(8),h.Q6J("ngIf",!t.requiredFechaIni),h.xp6(2),h.Q6J("ngIf",t.requiredFechaIni),h.xp6(17),h.Q6J("ngIf",t.requiredFechaFin),h.xp6(2),h.Q6J("ngIf",!t.requiredFechaFin),h.xp6(31),h.Q6J("ngIf",t.editForm.get("query").invalid&&(t.editForm.get("query").dirty||t.editForm.get("query").touched)),h.xp6(5),h.Q6J("ngIf",!t.requiredTopic),h.xp6(2),h.Q6J("ngIf",t.requiredTopic),h.xp6(2),h.Q6J("placeholder",t.getPlaceholder("streamManagement.select"))("settings",t.topicSettings)("data",t.topics),h.xp6(6),h.Q6J("ngIf",!t.requiredSocial),h.xp6(2),h.Q6J("ngIf",t.requiredSocial),h.xp6(2),h.Q6J("placeholder",t.getPlaceholder("streamManagement.select"))("settings",t.sNetworkSettings)("data",t.socials),h.xp6(8),h.Q6J("ngIf",!t.blockSome)}}function L(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",60),h._uU(1,"\n          "),h.TgZ(2,"button",61),h.NdJ("click",function(){return h.CHM(t),h.oxw().previousState()}),h._uU(3,"\n            "),h._UZ(4,"fa-icon",62),h._uU(5,"\xa0"),h.TgZ(6,"span",63),h._uU(7,"Cancel"),h.qZA(),h._uU(8,"\n          "),h.qZA(),h._uU(9,"\n  \n          "),h.TgZ(10,"button",64),h._uU(11,"\n            "),h._UZ(12,"fa-icon",65),h._uU(13,"\xa0"),h.TgZ(14,"span",66),h._uU(15,"Save"),h.qZA(),h._uU(16,"\n          "),h.qZA(),h._uU(17,"\n        "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(10),h.Q6J("disabled",t.editForm.invalid||t.isSaving)}}let B=(()=>{class t{constructor(t,e,n,a,i){this.service=t,this.route=e,this.fb=n,this.activatedRoute=a,this.translateService=i,this.ass=[],this.language=[],this.countries=[],this.requiredSearchType=!1,this.requiredSocial=!1,this.requiredTopic=!1,this.requiredFechaIni=!1,this.requiredFechaFin=!1,this.blockSome=!1,this.admnistrando=!1,this.idCompany=0,this.streamStartWithNumber=!1,this.userSelected=void 0,this.topics=[],this.types=[{id:1,name:"Completa"},{id:2,name:"Parcial"}],this.socials=[],this.authorities=[],this.isSaving=!1,this.errorNameExists=!1,this.topicSettings={singleSelection:!0,idField:"id",textField:"name",selectAllText:"Seleccionar todos",unSelectAllText:"Quitar todos",allowSearchFilter:!0,searchPlaceholderText:"Buscar",enableCheckAll:!1,noDataAvailablePlaceholderText:this.translateService.instant("companyManagement.noData")},this.sNetworkSettings={singleSelection:!1,idField:"id",textField:"name",selectAllText:"Seleccionar todos",unSelectAllText:"Quitar todos",allowSearchFilter:!0,searchPlaceholderText:"Buscar",noDataAvailablePlaceholderText:this.translateService.instant("companyManagement.noData")},this.editForm=this.fb.group({id:[],query:["",[u.kI.required,u.kI.maxLength(500),u.kI.pattern(/^(\s+\S+\s*)*(?!\s).*$/)]],status:[],social:[],topic:[],languages:[],countries:[],maxRowCount:[],startDate:[],endDate:[],name:["",[u.kI.required,u.kI.maxLength(40)]]})}ngOnInit(){this.route.data.subscribe(({stream:t})=>{t?(this.stream=t,void 0===this.stream.id||(this.stream.active=!0,this.blockSome=!0),this.updateForm(t)):(this.stream=new d,this.stream.active=!0,this.activatedRoute.params.subscribe(t=>{t.company?(this.admnistrando=!0,this.idCompany=t.company):this.admnistrando=!1})),this.service.topicsList(this.idCompany).subscribe(t=>{this.topics=t},t=>{}),this.service.countriesList().subscribe(t=>{this.countries=t},t=>{}),this.service.languagesList().subscribe(t=>{this.language=t},t=>{}),this.service.socialNetworkList().subscribe(t=>{this.socials=t},t=>{})}),this.updateForm(this.stream)}previousState(){window.history.back()}save(){this.streamStartWithNumber=!1,/^[0-9]+$/.test(this.editForm.get(["name"]).value[0])?this.streamStartWithNumber=!0:!this.validateList()||(this.errorNameExists=!1,this.isSaving=!0,this.updateStream(this.stream),void 0!==this.stream.id?this.service.update(this.stream).subscribe(()=>this.onSaveSuccess(),t=>this.onSaveError(t)):this.service.create(this.stream).subscribe(()=>this.onSaveSuccess(),t=>this.onSaveError(t)))}updateForm(t){this.editForm.patchValue({id:t.id,status:t.active,query:t.query,topic:this.getObjectIDSTopics(t.topics),social:this.getObjectIDSTopics(t.socialNetworks),countries:this.getObjectIDSTopics(t.countries),languages:this.getObjectIDSTopics(t.languages),name:t.name,maxRowCount:t.maxRowCount,startDate:t.startDate,endDate:t.endDate})}validateList(){let t=this.editForm.get(["startDate"]).value,e=this.editForm.get(["endDate"]).value,n=!0;return null!=t&&t.length>0?this.requiredFechaIni=!1:(this.requiredFechaIni=!0,n=!1),null!=e&&e.length>0?this.requiredFechaFin=!1:(this.requiredFechaFin=!0,n=!1),null!=this.editForm.get(["topic"]).value&&this.editForm.get(["topic"]).value.length>0?this.requiredTopic=!1:(this.requiredTopic=!0,n=!1),null!=this.editForm.get(["social"]).value&&this.editForm.get(["social"]).value.length>0?this.requiredSocial=!1:(this.requiredSocial=!0,n=!1),n}getPlaceholder(t){return this.translateService.instant(t)}updateStream(t){var e;t.active=this.editForm.get(["status"]).value,t.query=this.editForm.get(["query"]).value,t.socialNetworks=this.getObjectIDS(this.editForm.get(["social"]).value),t.topics=this.getObjectIDS(this.editForm.get(["topic"]).value),t.languages=this.getObjectIDS(this.editForm.get(["languages"]).value),t.countries=this.getObjectIDS(this.editForm.get(["countries"]).value),t.maxRowCount=this.editForm.get(["maxRowCount"]).value,t.name=this.editForm.get(["name"]).value,t.name=null===(e=t.name)||void 0===e?void 0:e.trim(),t.startDate=this.editForm.get(["startDate"]).value,t.endDate=this.editForm.get(["endDate"]).value,0!=this.idCompany&&(t.company=this.idCompany)}getObjectIDS(t){let e=[];return t.forEach(t=>{e.push({id:t.id})}),e}getObjectID(t){let e;return t.forEach(t=>{e=t.id}),e}getObjectIDSTopics(t){let e=[];return null==t||t.forEach(t=>{e.push({id:t.id,name:t.name})}),e}onSaveSuccess(){this.isSaving=!1,this.previousState()}onSaveError(t){this.isSaving=!1,400===t.status&&t.error.type===l.kH&&(this.errorNameExists=!0)}noWhitespaceValidator(t){return!(0===(t&&t.value&&t.value.toString()||"").trim().length)}checkNumberValue(t){var e;return this.editForm.get(["maxRowCount"]).value>999999&&this.editForm.patchValue({maxRowCount:999999}),this.streamStartWithNumber=!1,this.editForm.get(["name"]),(e=t.charCode)>=48&&e<=57}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.J),h.Y36(a.gz),h.Y36(u.qu),h.Y36(a.gz),h.Y36(U.sK))},t.\u0275cmp=h.Xpm({type:t,selectors:[["jhi-stream-add"]],features:[h._Bn([{provide:m.DO,useClass:g.W},{provide:m.NG,useClass:g.k}])],decls:17,vars:5,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","streamManagement.add-update.create",4,"ngIf"],["id","myUserLabel","jhiTranslate","streamManagement.add-update.update",4,"ngIf"],[4,"ngIf"],["style","margin-top:20px;",4,"ngIf"],["id","myUserLabel","jhiTranslate","streamManagement.add-update.create"],["id","myUserLabel","jhiTranslate","streamManagement.add-update.update"],[1,"form-group",3,"hidden"],["jhiTranslate","streamManagement.add-update.streamname"],["type","text","name","name","formControlName","name","readonly","",1,"form-control"],["jhiTranslate","streamManagement.add-update.streamname",1,"form-control-label"],["type","text","name","name","formControlName","name",1,"form-control"],["jhiTranslate","streamManagement.add-update.note",2,"font-size","10px"],[1,"form-group"],["jhiTranslate","streamManagement.language"],["formControlName","languages",3,"placeholder","settings","data"],["jhiTranslate","streamManagement.country"],["formControlName","countries",3,"placeholder","settings","data"],[1,"form-group","row"],[1,"col-md-6"],["jhiTranslate","streamManagement.startDate",4,"ngIf"],["style","color:red","jhiTranslate","streamManagement.fechainirequired",4,"ngIf"],[1,"input-group"],["placeholder","dd/mm/yyyy","name","dpIni","formControlName","startDate","ngbDatepicker","",1,"form-control"],["fechaIniButton","ngbDatepicker"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","calendar",3,"click"],[1,"fa","fa-calendar"],["style","color:red","jhiTranslate","streamManagement.fechafinrequired",4,"ngIf"],["jhiTranslate","streamManagement.endDate",4,"ngIf"],["placeholder","dd/mm/yyyy","name","dpIni","formControlName","endDate","ngbDatepicker","",1,"form-control"],["fechaFinButton","ngbDatepicker"],["jhiTranslate","streamManagement.add-update.rowCount",1,"form-control-label"],["onCopy","return false","onDrag","return false","onDrop","return false","onPaste","return false","type","text","max","99","name","maxRowCount","formControlName","maxRowCount",1,"form-control",3,"keypress","bur"],["jhiTranslate","streamManagement.query",1,"form-control-label"],["type","text","name","query","formControlName","query",1,"form-control"],["jhiTranslate","streamManagement.topics",4,"ngIf"],["style","color:red","jhiTranslate","streamManagement.topicsrequired",4,"ngIf"],["formControlName","topic",3,"placeholder","settings","data"],["jhiTranslate","streamManagement.social",4,"ngIf"],["style","color:red","jhiTranslate","streamManagement.socialrequired",4,"ngIf"],["formControlName","social",3,"placeholder","settings","data"],[1,"form-check"],["for","status",1,"form-check-label"],["class","form-check-input","type","checkbox","id","status","name","status","formControlName","status",4,"ngIf"],["jhiTranslate","streamManagement.active"],["jhiTranslate","streamManagement.error.numberOnID",1,"form-text","text-danger"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["jhiTranslate","streamManagement.startDate"],["jhiTranslate","streamManagement.fechainirequired",2,"color","red"],["jhiTranslate","streamManagement.fechafinrequired",2,"color","red"],["jhiTranslate","streamManagement.endDate"],["jhiTranslate","streamManagement.topics"],["jhiTranslate","streamManagement.topicsrequired",2,"color","red"],["jhiTranslate","streamManagement.social"],["jhiTranslate","streamManagement.socialrequired",2,"color","red"],["type","checkbox","id","status","name","status","formControlName","status",1,"form-check-input"],[2,"margin-top","20px"],["type","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"]],template:function(t,e){1&t&&(h.TgZ(0,"div",0),h._uU(1,"\n    "),h.TgZ(2,"div",1),h._uU(3,"\n      "),h.TgZ(4,"form",2),h.NdJ("ngSubmit",function(){return e.save()}),h._uU(5,"\n        "),h.YNc(6,T,2,0,"h2",3),h._uU(7,"\n        "),h.YNc(8,v,2,0,"h2",4),h._uU(9,"\n  \n        "),h.YNc(10,Y,133,26,"div",5),h._uU(11,"\n  \n        "),h.YNc(12,L,18,1,"div",6),h._uU(13,"\n      "),h.qZA(),h._uU(14,"\n    "),h.qZA(),h._uU(15,"\n  "),h.qZA(),h._uU(16,"\n  ")),2&t&&(h.xp6(4),h.Q6J("formGroup",e.editForm),h.xp6(2),h.Q6J("ngIf",!e.blockSome),h.xp6(2),h.Q6J("ngIf",e.blockSome),h.xp6(2),h.Q6J("ngIf",e.stream),h.xp6(2),h.Q6J("ngIf",e.stream))},directives:[u._Y,u.JL,u.sg,_.O5,f.P,Z.A,u.Fj,u.JJ,u.u,r.OP,m.J4,u.Wl,b.BN],styles:[".form-control[readonly][_ngcontent-%COMP%]{background-color:#d3d3d3;opacity:1}"]}),t})();var O=n(4991),P=n(2734),R=n(6905),H=n(8467),E=n(1066),$=n(6059),z=n(9044),V=n(4150);const W=function(){return["/stream/stream-add"]};function G(t,e){1&t&&(h.TgZ(0,"button",8),h._uU(1,"\n          "),h._UZ(2,"fa-icon",9),h._uU(3," "),h.TgZ(4,"span",10),h._uU(5,"Create a new Stream"),h.qZA(),h._uU(6,"\n        "),h.qZA()),2&t&&h.Q6J("routerLink",h.DdM(1,W))}const K=function(t){return["/stream/stream-add",t]};function X(t,e){if(1&t&&(h.TgZ(0,"button",8),h._uU(1,"\n          "),h._UZ(2,"fa-icon",9),h._uU(3," "),h.TgZ(4,"span",10),h._uU(5,"Create a new Stream"),h.qZA(),h._uU(6,"\n        "),h.qZA()),2&t){const t=h.oxw();h.Q6J("routerLink",h.VKq(1,K,t.idCompany))}}function tt(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",37),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).setActive(e,!0)}),h._uU(1,"\n                Deactivated\n              "),h.qZA()}}function et(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",38),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).setActive(e,!1)}),h._uU(1,"\n              "),h._uU(2,"\n                Activated\n              "),h.qZA()}}function nt(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"tr",29),h.NdJ("dblclick",function(){const e=h.CHM(t).$implicit;return h.oxw(3).doubleClick(e)}),h._uU(1,"\n            "),h.TgZ(2,"td"),h._uU(3,"\n              "),h.TgZ(4,"a"),h._uU(5),h.qZA(),h._uU(6,"\n            "),h.qZA(),h._uU(7,"\n            "),h.TgZ(8,"td"),h._uU(9),h.ALo(10,"slice"),h.qZA(),h._uU(11,"\n            "),h.TgZ(12,"td"),h._uU(13,"\n              "),h.TgZ(14,"a"),h._uU(15),h.qZA(),h._uU(16,"\n            "),h.qZA(),h._uU(17,"\n            "),h.TgZ(18,"td"),h._uU(19,"\n              "),h.YNc(20,tt,2,0,"button",30),h._uU(21,"\n              "),h.YNc(22,et,3,0,"button",31),h._uU(23,"\n            "),h.qZA(),h._uU(24,"\n            "),h.TgZ(25,"td"),h._uU(26),h.ALo(27,"date"),h.qZA(),h._uU(28,"\n            "),h.TgZ(29,"td"),h._uU(30),h.qZA(),h._uU(31,"\n            "),h.TgZ(32,"td"),h._uU(33),h.ALo(34,"date"),h.qZA(),h._uU(35,"\n            "),h.TgZ(36,"td",32),h._uU(37,"\n              "),h.TgZ(38,"div",33),h._uU(39,"\n \n                "),h.TgZ(40,"button",34),h.NdJ("click",function(){const e=h.CHM(t).$implicit;return h.oxw(3).deleteStream(e)}),h._uU(41,"\n                  "),h._UZ(42,"fa-icon",35),h._uU(43,"\n                  "),h.TgZ(44,"span",36),h._uU(45,"Delete"),h.qZA(),h._uU(46,"\n                "),h.qZA(),h._uU(47,"\n              "),h.qZA(),h._uU(48,"\n            "),h.qZA(),h._uU(49,"\n          "),h.qZA()}if(2&t){const t=e.$implicit;h.xp6(5),h.Oqu(t.idStream),h.xp6(4),h.hij("   ",null==t.query?"":t.query.length>100?h.Dn7(10,8,t.query,0,90)+"..":t.query,""),h.xp6(6),h.Oqu(null==t.maxRowCount?"Sin L\xedmite":t.maxRowCount),h.xp6(5),h.Q6J("ngIf",!t.active),h.xp6(2),h.Q6J("ngIf",t.active),h.xp6(4),h.Oqu(h.xi3(27,12,t.createdDate,"dd/MM/yy HH:mm")),h.xp6(4),h.Oqu(t.lastModifiedBy),h.xp6(3),h.Oqu(h.xi3(34,15,t.lastModifiedDate,"dd/MM/yy HH:mm"))}}function at(t,e){if(1&t&&(h.TgZ(0,"tbody"),h._uU(1,"\n          "),h.YNc(2,nt,50,18,"tr",28),h._uU(3,"\n        "),h.qZA()),2&t){const t=h.oxw(2);h.xp6(2),h.Q6J("ngForOf",t.streams)("ngForTrackBy",t.trackIdentity)}}function it(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",11),h._uU(1,"\n      "),h.TgZ(2,"table",12),h._uU(3,"\n        "),h.TgZ(4,"thead"),h._uU(5,"\n          "),h.TgZ(6,"tr",13),h.NdJ("predicateChange",function(e){return h.CHM(t),h.oxw().predicate=e})("ascendingChange",function(e){return h.CHM(t),h.oxw().ascending=e})("sortChange",function(){return h.CHM(t),h.oxw().transition()}),h._uU(7,"\n            "),h.TgZ(8,"th",14),h.TgZ(9,"span",15),h._uU(10,"ID"),h.qZA(),h._uU(11," "),h._UZ(12,"fa-icon",16),h.qZA(),h._uU(13,"\n            "),h.TgZ(14,"th",17),h.TgZ(15,"span",18),h._uU(16,"Query"),h.qZA(),h._uU(17," "),h.qZA(),h._uU(18,"\n            "),h.TgZ(19,"th",17),h.TgZ(20,"span",19),h._uU(21,"Max Result"),h.qZA(),h._uU(22," "),h.qZA(),h._uU(23,"\n          \n            "),h.TgZ(24,"th",20),h._uU(25," "),h.TgZ(26,"span",21),h._uU(27,"Status"),h.qZA(),h._UZ(28,"fa-icon",16),h._uU(29," "),h.qZA(),h._uU(30,"\n            \n            "),h.TgZ(31,"th",22),h._uU(32,"\n              "),h.TgZ(33,"span",23),h._uU(34,"Created Date"),h.qZA(),h._uU(35," "),h._UZ(36,"fa-icon",16),h._uU(37,"\n            "),h.qZA(),h._uU(38,"\n            "),h.TgZ(39,"th",24),h._uU(40,"\n              "),h.TgZ(41,"span",25),h._uU(42,"Last Modified By"),h.qZA(),h._uU(43," "),h._UZ(44,"fa-icon",16),h._uU(45,"\n            "),h.qZA(),h._uU(46,"\n            "),h.TgZ(47,"th",26),h._uU(48,"\n              "),h.TgZ(49,"span",27),h._uU(50,"Last Modified Date"),h.qZA(),h._uU(51," "),h._UZ(52,"fa-icon",16),h._uU(53,"\n            "),h.qZA(),h._uU(54,"\n            \n            "),h._UZ(55,"th",17),h._uU(56,"\n          "),h.qZA(),h._uU(57,"\n        "),h.qZA(),h._uU(58,"\n        "),h.YNc(59,at,4,2,"tbody",7),h._uU(60,"\n      "),h.qZA(),h._uU(61,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(6),h.Q6J("predicate",t.predicate)("ascending",t.ascending),h.xp6(53),h.Q6J("ngIf",t.streams)}}const st=function(t,e,n){return{page:t,totalItems:e,itemsPerPage:n}};function rt(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div"),h._uU(1,"\n      "),h.TgZ(2,"div",39),h._uU(3,"\n        "),h._UZ(4,"jhi-item-count",40),h._uU(5,"\n      "),h.qZA(),h._uU(6,"\n  \n      "),h.TgZ(7,"div",39),h._uU(8,"\n        "),h.TgZ(9,"ngb-pagination",41),h.NdJ("pageChange",function(e){return h.CHM(t),h.oxw().page=e})("pageChange",function(){return h.CHM(t),h.oxw().transition()}),h.qZA(),h._uU(10,"\n      "),h.qZA(),h._uU(11,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(4),h.Q6J("params",h.kEZ(7,st,t.page,t.totalItems,t.itemsPerPage)),h.xp6(5),h.Q6J("collectionSize",t.totalItems)("page",t.page)("pageSize",t.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let ot=(()=>{class t{constructor(t,e,n,a,i,s){this.StreamService=t,this.accountService=e,this.activatedRoute=n,this.router=a,this.modalService=i,this.translate=s,this.currentAccount=null,this.streams=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=O.gK,this.admnistrando=!1,this.idCompany=0}ngOnInit(){this.activatedRoute.params.subscribe(t=>{t.company?(this.admnistrando=!0,this.idCompany=t.company):this.admnistrando=!1}),this.accountService.identity().subscribe(t=>this.currentAccount=t),this.handleNavigation()}setActive(t,e){e||(t.idUsuario=void 0),this.StreamService.update(Object.assign(Object.assign({},t),{active:e})).subscribe(()=>this.loadAll())}trackIdentity(t,e){return e.id}deleteStream(t){const e=this.modalService.open(P.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.trashStream"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.trashStream",{id:t.idStream}),e.closed.subscribe(e=>{"true"===e&&this.StreamService.delete(t.id?t.id:0).subscribe(()=>this.loadAll())})}loadAll(){this.isLoading=!0,this.StreamService.query({page:this.page-1,size:this.itemsPerPage,sort:this.sort(),idCompany:this.idCompany}).subscribe(t=>{this.isLoading=!1,this.onSuccess(t.body,t.headers)},()=>this.isLoading=!1)}doubleClick(t){this.router.navigate(["/stream/stream-add/"+t.id+"/edit"])}transition(){this.router.navigate(["./stream-management/"+this.idCompany+"/management"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:`${this.predicate},${this.ascending?O.aW:O.jo}`}})}handleNavigation(){(0,R.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,e])=>{var n;const a=e.get("page");this.page=+(null!=a?a:1);const i=(null!==(n=e.get(O._l))&&void 0!==n?n:t.defaultSort).split(",");this.predicate=i[0],this.ascending=i[1]===O.aW,this.loadAll()})}sort(){const t=[`${this.predicate},${this.ascending?O.aW:O.jo}`];return"id"!==this.predicate&&t.push("id"),t}onSuccess(t,e){this.totalItems=Number(e.get("X-Total-Count")),this.streams=t}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(p.J),h.Y36(H.B),h.Y36(a.gz),h.Y36(a.F0),h.Y36(m.FF),h.Y36(U.sK))},t.\u0275cmp=h.Xpm({type:t,selectors:[["jhi-stream-manager"]],decls:32,vars:6,consts:[["id","stream-management-page-heading","jhiTranslate","streamManagement.home.title","data-cy","streamManagementPageHeading",1,"mdi","mdi-nfc"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","streamManagement.home.refreshListLabel"],["class","btn btn-primary jh-create-entity",3,"routerLink",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary","jh-create-entity",3,"routerLink"],["icon","plus"],["jhiTranslate","streamManagement.home.createLabel"],[1,"table-responsive"],["aria-describedby","stream-management-page-heading",1,"table","table-hover","cursor-grab-table","table-striped"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","id"],["jhiTranslate","global.field.id"],["icon","sort"],["scope","col"],["jhiTranslate","streamManagement.table.query"],["jhiTranslate","streamManagement.table.maxValue"],["scope","col","jhiSortBy","active"],["jhiTranslate","streamManagement.status"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","streamManagement.createdDate"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","streamManagement.lastModifiedBy"],["scope","col","jhiSortBy","lastModifiedDate"],["jhiTranslate","streamManagement.lastModifiedDate"],[3,"dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dblclick"],["class","btn btn-danger btn-sm","jhiTranslate","streamManagement.deactivated",3,"click",4,"ngIf"],["class","btn btn-success btn-sm","jhiTranslate","streamManagement.active",3,"click",4,"ngIf"],[1,"text-right"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["icon","trash"],["jhiTranslate","entity.action.trash",1,"d-none","d-md-inline"],["jhiTranslate","streamManagement.deactivated",1,"btn","btn-danger","btn-sm",3,"click"],["jhiTranslate","streamManagement.active",1,"btn","btn-success","btn-sm",3,"click"],[1,"row","justify-content-center"],[3,"params"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"]],template:function(t,e){1&t&&(h.TgZ(0,"div"),h._uU(1,"\n    "),h.TgZ(2,"h2"),h._uU(3,"\n      "),h.TgZ(4,"span",0),h._uU(5,"Companies"),h.qZA(),h._uU(6,"\n  \n      "),h.TgZ(7,"div",1),h._uU(8,"\n        "),h.TgZ(9,"button",2),h.NdJ("click",function(){return e.loadAll()}),h._uU(10,"\n          "),h._UZ(11,"fa-icon",3),h._uU(12,"\n          "),h.TgZ(13,"span",4),h._uU(14,"Refresh List"),h.qZA(),h._uU(15,"\n        "),h.qZA(),h._uU(16,"\n        "),h.YNc(17,G,7,2,"button",5),h._uU(18,"\n\n        "),h.YNc(19,X,7,3,"button",5),h._uU(20,"\n      "),h.qZA(),h._uU(21,"\n    "),h.qZA(),h._uU(22,"\n  \n    "),h._UZ(23,"jhi-alert-error"),h._uU(24,"\n  \n    "),h._UZ(25,"jhi-alert"),h._uU(26,"\n  \n    "),h.YNc(27,it,62,3,"div",6),h._uU(28,"\n  \n    "),h.YNc(29,rt,12,11,"div",7),h._uU(30,"\n  "),h.qZA(),h._uU(31,"\n  ")),2&t&&(h.xp6(9),h.Q6J("disabled",e.isLoading),h.xp6(2),h.Q6J("spin",e.isLoading),h.xp6(6),h.Q6J("ngIf",!e.admnistrando),h.xp6(2),h.Q6J("ngIf",e.admnistrando),h.xp6(8),h.Q6J("ngIf",e.streams),h.xp6(2),h.Q6J("ngIf",e.streams))},directives:[f.P,b.BN,_.O5,Z.A,E.w,a.rH,$.b,z.T,_.sg,V.N,m.N9],pipes:[_.OU,_.uU],styles:[""]}),t})();const ct=[{path:"",children:[{path:"stream-management",component:ot,data:{pageTitle:"global.menu.stream.management",defaultSort:"id,asc"},canActivate:[o.Z]},{path:"stream-management/:company/management",component:ot,data:{pageTitle:"global.menu.stream.management",defaultSort:"id,asc"},canActivate:[o.Z]},{path:"stream-add/:stream/edit",component:B,resolve:{stream:(()=>{class t{constructor(t){this.service=t}resolve(t){const e=t.params.stream;return e?this.service.find(e):(0,c.of)(new d)}}return t.\u0275fac=function(e){return new(e||t)(h.LFG(p.J))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}},{path:"stream-add",component:B,data:{pageTitle:"global.menu.stream.add"},canActivate:[o.Z]},{path:"stream-add/:company",component:B,data:{pageTitle:"global.menu.stream.add"},canActivate:[o.Z]}]}];let ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[s.m,a.Bz.forChild(ct),i.A0,r.ZQ]]}),t})()}}]);