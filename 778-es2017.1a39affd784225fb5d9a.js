"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[778],{2778:function(t,e,n){n.r(e),n.d(e,{HealthModule:function(){return b}});var a=n(8335),i=n(1382),s=n(2741),l=n(7390),u=n(222),c=n(4243);function o(t,e){if(1&t&&(s.TgZ(0,"h4",8),s._uU(1),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.hij("\n    ","health.indicator."+t.health.key,"\n  ")}}function h(t,e){if(1&t&&(s.TgZ(0,"tr"),s._uU(1,"\n            "),s.TgZ(2,"td",15),s._uU(3),s.qZA(),s._uU(4,"\n            "),s.TgZ(5,"td",15),s._uU(6),s.qZA(),s._uU(7,"\n          "),s.qZA()),2&t){const t=e.$implicit,n=s.oxw(2);s.xp6(3),s.Oqu(t.key),s.xp6(3),s.Oqu(n.readableValue(t.value))}}function r(t,e){if(1&t&&(s.TgZ(0,"div"),s._uU(1,"\n    "),s.TgZ(2,"h5",9),s._uU(3,"Properties"),s.qZA(),s._uU(4,"\n\n    "),s.TgZ(5,"div",10),s._uU(6,"\n      "),s.TgZ(7,"table",11),s._uU(8,"\n        "),s.TgZ(9,"thead"),s._uU(10,"\n          "),s.TgZ(11,"tr"),s._uU(12,"\n            "),s.TgZ(13,"th",12),s._uU(14,"Name"),s.qZA(),s._uU(15,"\n            "),s.TgZ(16,"th",13),s._uU(17,"Value"),s.qZA(),s._uU(18,"\n          "),s.qZA(),s._uU(19,"\n        "),s.qZA(),s._uU(20,"\n        "),s.TgZ(21,"tbody"),s._uU(22,"\n          "),s.YNc(23,h,8,2,"tr",14),s.ALo(24,"keyvalue"),s._uU(25,"\n        "),s.qZA(),s._uU(26,"\n      "),s.qZA(),s._uU(27,"\n    "),s.qZA(),s._uU(28,"\n  "),s.qZA()),2&t){const t=s.oxw();s.xp6(23),s.Q6J("ngForOf",s.lcZ(24,1,t.health.value.details))}}let d=(()=>{class t{constructor(t){this.activeModal=t}readableValue(t){var e;if("diskSpace"===(null===(e=this.health)||void 0===e?void 0:e.key)){const e=t/1073741824;return e>1?`${e.toFixed(2)} GB`:`${(t/1048576).toFixed(2)} MB`}return"object"==typeof t?JSON.stringify(t):String(t)}dismiss(){this.activeModal.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.Kz))},t.\u0275cmp=s.Xpm({type:t,selectors:[["jhi-health-modal"]],decls:22,vars:2,consts:[[1,"modal-header"],["class","modal-title","id","showHealthLabel",4,"ngIf"],["aria-label","Close","data-dismiss","modal","type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","pad"],[4,"ngIf"],[1,"modal-footer"],["data-dismiss","modal","type","button",1,"btn","btn-secondary","float-left",3,"click"],["id","showHealthLabel",1,"modal-title"],["jhiTranslate","health.details.properties"],[1,"table-responsive"],["aria-describedby","showHealthLabel",1,"table","table-striped"],["scope","col","jhiTranslate","health.details.name",1,"text-left"],["scope","col","jhiTranslate","health.details.value",1,"text-left"],[4,"ngFor","ngForOf"],[1,"text-left"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s._uU(1,"\n  "),s.YNc(2,o,2,1,"h4",1),s._uU(3,"\n\n  "),s.TgZ(4,"button",2),s.NdJ("click",function(){return e.dismiss()}),s._uU(5,"\n    "),s.TgZ(6,"span",3),s._uU(7,"\xd7"),s.qZA(),s._uU(8,"\n  "),s.qZA(),s._uU(9,"\n"),s.qZA(),s._uU(10,"\n\n"),s.TgZ(11,"div",4),s._uU(12,"\n  "),s.YNc(13,r,29,3,"div",5),s._uU(14,"\n"),s.qZA(),s._uU(15,"\n\n"),s.TgZ(16,"div",6),s._uU(17,"\n  "),s.TgZ(18,"button",7),s.NdJ("click",function(){return e.dismiss()}),s._uU(19,"Done"),s.qZA(),s._uU(20,"\n"),s.qZA(),s._uU(21,"\n")),2&t&&(s.xp6(2),s.Q6J("ngIf",e.health),s.xp6(11),s.Q6J("ngIf",e.health))},directives:[u.O5,c.P,u.sg],pipes:[u.Nd],encapsulation:2}),t})();var U=n(1887),g=n(8986);let Z=(()=>{class t{constructor(t,e){this.http=t,this.applicationConfigService=e}checkHealth(){return this.http.get(this.applicationConfigService.getEndpointFor("management/health"))}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(U.eN),s.LFG(g.y))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n(4477);function p(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"a",14),s.NdJ("click",function(){s.CHM(t);const e=s.oxw().$implicit;return s.oxw(2).showHealth({key:e.key,value:e.value})}),s._uU(1,"\n              "),s._UZ(2,"fa-icon",15),s._uU(3,"\n            "),s.qZA()}}function f(t,e){if(1&t&&(s.TgZ(0,"tr"),s._uU(1,"\n          "),s.TgZ(2,"td"),s._uU(3),s.qZA(),s._uU(4,"\n          "),s.TgZ(5,"td",11),s._uU(6,"\n            "),s.TgZ(7,"span",12),s._uU(8),s.qZA(),s._uU(9,"\n          "),s.qZA(),s._uU(10,"\n          "),s.TgZ(11,"td",11),s._uU(12,"\n            "),s.YNc(13,p,4,0,"a",13),s._uU(14,"\n          "),s.qZA(),s._uU(15,"\n        "),s.qZA()),2&t){const t=e.$implicit,n=s.oxw(2);s.xp6(3),s.hij("\n            ","health.indicator."+t.key,"\n          "),s.xp6(4),s.s9C("jhiTranslate","health.status."+t.value.status),s.Q6J("ngClass",n.getBadgeClass(t.value.status)),s.xp6(1),s.hij("\n              ",t.value.status,"\n            "),s.xp6(5),s.Q6J("ngIf",t.value.details)}}function T(t,e){if(1&t&&(s.TgZ(0,"tbody"),s._uU(1,"\n        "),s.YNc(2,f,16,5,"tr",10),s.ALo(3,"keyvalue"),s._uU(4,"\n      "),s.qZA()),2&t){const t=s.oxw();s.xp6(2),s.Q6J("ngForOf",s.lcZ(3,1,t.health.components))}}const v={path:"",component:(()=>{class t{constructor(t,e){this.modalService=t,this.healthService=e}ngOnInit(){this.refresh()}getBadgeClass(t){return"UP"===t?"badge-success":"badge-danger"}refresh(){this.healthService.checkHealth().subscribe(t=>this.health=t,t=>{503===t.status&&(this.health=t.error)})}showHealth(t){this.modalService.open(d).componentInstance.health=t}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.FF),s.Y36(Z))},t.\u0275cmp=s.Xpm({type:t,selectors:[["jhi-health"]],decls:40,vars:1,consts:[["id","health-page-heading","jhiTranslate","health.title","data-cy","healthPageHeading"],[1,"btn","btn-primary","float-right",3,"click"],["icon","sync"],["jhiTranslate","health.refresh.button"],[1,"table-responsive"],["id","healthCheck","aria-describedby","health-page-heading",1,"table","table-striped"],["scope","col","jhiTranslate","health.table.service"],["scope","col","jhiTranslate","health.table.status",1,"text-center"],["scope","col","jhiTranslate","health.details.details",1,"text-center"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"text-center"],[1,"badge",3,"ngClass","jhiTranslate"],["class","hand",3,"click",4,"ngIf"],[1,"hand",3,"click"],["icon","eye"]],template:function(t,e){1&t&&(s.TgZ(0,"div"),s._uU(1,"\n  "),s.TgZ(2,"h2"),s._uU(3,"\n    "),s.TgZ(4,"span",0),s._uU(5,"Health Checks"),s.qZA(),s._uU(6,"\n\n    "),s.TgZ(7,"button",1),s.NdJ("click",function(){return e.refresh()}),s._uU(8,"\n      "),s._UZ(9,"fa-icon",2),s._uU(10," "),s.TgZ(11,"span",3),s._uU(12,"Refresh"),s.qZA(),s._uU(13,"\n    "),s.qZA(),s._uU(14,"\n  "),s.qZA(),s._uU(15,"\n\n  "),s.TgZ(16,"div",4),s._uU(17,"\n    "),s.TgZ(18,"table",5),s._uU(19,"\n      "),s.TgZ(20,"thead"),s._uU(21,"\n        "),s.TgZ(22,"tr"),s._uU(23,"\n          "),s.TgZ(24,"th",6),s._uU(25,"Service Name"),s.qZA(),s._uU(26,"\n          "),s.TgZ(27,"th",7),s._uU(28,"Status"),s.qZA(),s._uU(29,"\n          "),s.TgZ(30,"th",8),s._uU(31,"Details"),s.qZA(),s._uU(32,"\n        "),s.qZA(),s._uU(33,"\n      "),s.qZA(),s._uU(34,"\n      "),s.YNc(35,T,5,3,"tbody",9),s._uU(36,"\n    "),s.qZA(),s._uU(37,"\n  "),s.qZA(),s._uU(38,"\n"),s.qZA(),s._uU(39,"\n")),2&t&&(s.xp6(35),s.Q6J("ngIf",e.health))},directives:[c.P,_.BN,u.O5,u.sg,u.mk],pipes:[u.Nd],encapsulation:2}),t})(),data:{pageTitle:"health.title"}};let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.m,a.Bz.forChild([v])]]}),t})()}}]);