"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[39],{3039:function(n,e,t){t.r(e),t.d(e,{LogsModule:function(){return _}});var i=t(8335),s=t(1382);class r{constructor(n,e){this.name=n,this.level=e}}var o=t(2741),c=t(1887),a=t(8986);let g=(()=>{class n{constructor(n,e){this.http=n,this.applicationConfigService=e}changeLevel(n,e){return this.http.post(this.applicationConfigService.getEndpointFor(`management/loggers/${n}`),{configuredLevel:e})}findAll(){return this.http.get(this.applicationConfigService.getEndpointFor("management/loggers"))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(c.eN),o.LFG(a.y))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var l=t(222),h=t(4243),u=t(3324),d=t(6059),p=t(9044),f=t(4477);function C(n,e){if(1&n){const n=o.EpF();o.TgZ(0,"tr"),o._uU(1,"\n      "),o.TgZ(2,"td"),o._uU(3,"\n        "),o.TgZ(4,"small"),o._uU(5),o.ALo(6,"slice"),o.qZA(),o._uU(7,"\n      "),o.qZA(),o._uU(8,"\n      "),o.TgZ(9,"td"),o._uU(10,"\n        "),o.TgZ(11,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"TRACE")}),o._uU(12,"\n          TRACE\n        "),o.qZA(),o._uU(13,"\n\n        "),o.TgZ(14,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"DEBUG")}),o._uU(15,"\n          DEBUG\n        "),o.qZA(),o._uU(16,"\n\n        "),o.TgZ(17,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"INFO")}),o._uU(18,"\n          INFO\n        "),o.qZA(),o._uU(19,"\n\n        "),o.TgZ(20,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"WARN")}),o._uU(21,"\n          WARN\n        "),o.qZA(),o._uU(22,"\n\n        "),o.TgZ(23,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"ERROR")}),o._uU(24,"\n          ERROR\n        "),o.qZA(),o._uU(25,"\n\n        "),o.TgZ(26,"button",14),o.NdJ("click",function(){const e=o.CHM(n).$implicit;return o.oxw(2).changeLevel(e.name,"OFF")}),o._uU(27,"\n          OFF\n        "),o.qZA(),o._uU(28,"\n      "),o.qZA(),o._uU(29,"\n    "),o.qZA()}if(2&n){const n=e.$implicit;o.xp6(5),o.Oqu(o.Dn7(6,7,n.name,0,140)),o.xp6(6),o.Q6J("ngClass","TRACE"===n.level?"btn-primary":"btn-light"),o.xp6(3),o.Q6J("ngClass","DEBUG"===n.level?"btn-success":"btn-light"),o.xp6(3),o.Q6J("ngClass","INFO"===n.level?"btn-info":"btn-light"),o.xp6(3),o.Q6J("ngClass","WARN"===n.level?"btn-warning":"btn-light"),o.xp6(3),o.Q6J("ngClass","ERROR"===n.level?"btn-danger":"btn-light"),o.xp6(3),o.Q6J("ngClass","OFF"===n.level?"btn-secondary":"btn-light")}}const m=function(n){return{total:n}};function b(n,e){if(1&n){const n=o.EpF();o.TgZ(0,"div",1),o._uU(1,"\n  "),o.TgZ(2,"h2",2),o._uU(3,"Logs"),o.qZA(),o._uU(4,"\n\n  "),o.TgZ(5,"p",3),o._uU(6),o.qZA(),o._uU(7,"\n\n  "),o.TgZ(8,"span",4),o._uU(9,"Filter"),o.qZA(),o._uU(10,"\n  "),o.TgZ(11,"input",5),o.NdJ("ngModelChange",function(e){return o.CHM(n),o.oxw().filter=e})("ngModelChange",function(){return o.CHM(n),o.oxw().filterAndSort()}),o.qZA(),o._uU(12,"\n\n  "),o.TgZ(13,"table",6),o._uU(14,"\n    "),o.TgZ(15,"thead"),o._uU(16,"\n      "),o.TgZ(17,"tr",7),o.NdJ("predicateChange",function(e){return o.CHM(n),o.oxw().orderProp=e})("ascendingChange",function(e){return o.CHM(n),o.oxw().ascending=e})("sortChange",function(){return o.CHM(n),o.oxw().filterAndSort()}),o._uU(18,"\n        "),o.TgZ(19,"th",8),o.TgZ(20,"span",9),o._uU(21,"Name"),o.qZA(),o._uU(22," "),o._UZ(23,"fa-icon",10),o.qZA(),o._uU(24,"\n        "),o.TgZ(25,"th",11),o.TgZ(26,"span",12),o._uU(27,"Level"),o.qZA(),o._uU(28," "),o._UZ(29,"fa-icon",10),o.qZA(),o._uU(30,"\n      "),o.qZA(),o._uU(31,"\n    "),o.qZA(),o._uU(32,"\n\n    "),o.YNc(33,C,30,11,"tr",13),o._uU(34,"\n  "),o.qZA(),o._uU(35,"\n"),o.qZA()}if(2&n){const n=o.oxw();o.xp6(5),o.Q6J("translateValues",o.VKq(6,m,n.loggers.length)),o.xp6(1),o.hij("There are ",n.loggers.length," loggers."),o.xp6(5),o.Q6J("ngModel",n.filter),o.xp6(6),o.Q6J("predicate",n.orderProp)("ascending",n.ascending),o.xp6(16),o.Q6J("ngForOf",n.filteredAndOrderedLoggers)}}const U={path:"",component:(()=>{class n{constructor(n){this.logsService=n,this.filter="",this.orderProp="name",this.ascending=!0}ngOnInit(){this.findAndExtractLoggers()}changeLevel(n,e){this.logsService.changeLevel(n,e).subscribe(()=>this.findAndExtractLoggers())}filterAndSort(){this.filteredAndOrderedLoggers=this.loggers.filter(n=>!this.filter||n.name.toLowerCase().includes(this.filter.toLowerCase())).sort((n,e)=>n[this.orderProp]<e[this.orderProp]?this.ascending?-1:1:n[this.orderProp]>e[this.orderProp]?this.ascending?1:-1:"level"===this.orderProp?n.name<e.name?-1:1:0)}findAndExtractLoggers(){this.logsService.findAll().subscribe(n=>{this.loggers=Object.entries(n.loggers).map(([n,e])=>new r(n,e.effectiveLevel)),this.filterAndSort()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(g))},n.\u0275cmp=o.Xpm({type:n,selectors:[["jhi-logs"]],decls:2,vars:1,consts:[["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["id","logs-page-heading","jhiTranslate","logs.title","data-cy","logsPageHeading"],["jhiTranslate","logs.nbloggers",3,"translateValues"],["jhiTranslate","logs.filter"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["aria-describedby","logs-page-heading",1,"table","table-sm","table-striped","table-bordered"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["jhiSortBy","name","scope","col"],["jhiTranslate","logs.table.name"],["icon","sort"],["jhiSortBy","level","scope","col"],["jhiTranslate","logs.table.level"],[4,"ngFor","ngForOf"],[1,"btn","btn-sm",3,"ngClass","click"]],template:function(n,e){1&n&&(o.YNc(0,b,36,8,"div",0),o._uU(1,"\n")),2&n&&o.Q6J("ngIf",e.loggers)},directives:[l.O5,h.P,u.Fj,u.JJ,u.On,d.b,p.T,f.BN,l.sg,l.mk],pipes:[l.OU],encapsulation:2}),n})(),data:{pageTitle:"logs.title"}};let _=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[s.m,i.Bz.forChild([U])]]}),n})()},9044:function(n,e,t){t.d(e,{T:function(){return g}});var i=t(6006),s=t(7194),r=t(4477),o=t(8036),c=t(2741),a=t(6059);let g=(()=>{class n{constructor(n){this.sort=n,this.sortIcon=o.CmM,this.sortAscIcon=o.foy,this.sortDescIcon=o.u9C,this.destroy$=new i.xQ,n.predicateChange.pipe((0,s.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),n.ascendingChange.pipe((0,s.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let n=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(n=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=n.iconName,this.iconComponent.render()}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(a.b,1))},n.\u0275dir=c.lG2({type:n,selectors:[["","jhiSortBy",""]],contentQueries:function(n,e,t){if(1&n&&c.Suo(t,r.BN,5),2&n){let n;c.iGM(n=c.CRH())&&(e.iconComponent=n.first)}},hostBindings:function(n,e){1&n&&c.NdJ("click",function(){return e.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),n})()},6059:function(n,e,t){t.d(e,{b:function(){return s}});var i=t(2741);let s=(()=>{class n{constructor(){this.predicateChange=new i.vpe,this.ascendingChange=new i.vpe,this.sortChange=new i.vpe}get predicate(){return this._predicate}set predicate(n){this._predicate=n,this.predicateChange.emit(n)}get ascending(){return this._ascending}set ascending(n){this._ascending=n,this.ascendingChange.emit(n)}sort(n){this.ascending=n!==this.predicate||!this.ascending,this.predicate=n,this.predicateChange.emit(n),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=i.lG2({type:n,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),n})()}}]);