"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[392],{3449:function(e,t,n){n.d(t,{x:function(){return s}});var i=n(2741),a=n(1887),r=n(8986);let s=(()=>{class e{constructor(e,t){this.http=e,this.applicationConfigService=t,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/admin/users")}create(e){return this.http.post(this.resourceUrl,e)}update(e){return this.http.put(this.resourceUrl,e)}find(e){return this.http.get(`${this.resourceUrl}/${e}`)}query(e){return this.http.get(this.resourceUrl+"/bygroup/"+e)}delete(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/admin/delete/users"),e)}authorities(){return this.http.get(this.applicationConfigService.getEndpointFor("api/authorities"))}userList(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/"+e))}userAdminList(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/admin/"+e))}userStreamList(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/stream/"+e))}userToCompany(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/company/data/add/relation/company"),e)}userAdminToUserStream(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/company/data/add/relation/user"),e)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.eN),i.LFG(r.y))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2039:function(e,t,n){n.d(t,{b:function(){return L}});var i=n(2741),a=n(3324),r=n(7194),s=n(2553),u=n(6006),o=n(3449),l=n(8335),c=n(6912),d=n(8467),m=n(1633),g=n(222),h=n(4243),p=n(6662),f=n(4477);function U(e,t){1&e&&(i.TgZ(0,"h2",8),i._uU(1,"Create or edit a User"),i.qZA())}function _(e,t){1&e&&(i.TgZ(0,"h2",9),i._uU(1,"Create or edit a User"),i.qZA())}function Z(e,t){1&e&&(i.TgZ(0,"h2",10),i._uU(1,"Create or edit a User"),i.qZA())}const v=function(){return{max:150}};function T(e,t){1&e&&(i.TgZ(0,"small",19),i._uU(1,"\n              This field cannot be longer than 150 characters.\n            "),i.qZA()),2&e&&i.Q6J("translateValues",i.DdM(1,v))}function b(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1,"\n            "),i.YNc(2,T,2,2,"small",18),i._uU(3,"\n          "),i.qZA()),2&e){const e=i.oxw(2);let t;i.xp6(2),i.Q6J("ngIf",null==(t=e.editForm.get("fullname"))||null==t.errors?null:t.errors.maxlength)}}function A(e,t){1&e&&i._UZ(0,"input",20)}function y(e,t){1&e&&i._UZ(0,"input",21)}function q(e,t){1&e&&(i.TgZ(0,"small",24),i._uU(1,"\n              This field is required.\n            "),i.qZA())}const x=function(){return{max:100}};function S(e,t){1&e&&(i.TgZ(0,"small",19),i._uU(1,"\n              This field cannot be longer than 100 characters.\n            "),i.qZA()),2&e&&i.Q6J("translateValues",i.DdM(1,x))}function C(e,t){1&e&&(i.TgZ(0,"small",25),i._uU(1,"\n              Your email is invalid.\n            "),i.qZA())}function N(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1,"\n            "),i.YNc(2,q,2,0,"small",22),i._uU(3,"\n\n            "),i.YNc(4,S,2,2,"small",18),i._uU(5,"\n\n      \n            "),i.YNc(6,C,2,0,"small",23),i._uU(7,"\n          "),i.qZA()),2&e){const e=i.oxw(2);let t,n,a;i.xp6(2),i.Q6J("ngIf",null==(t=e.editForm.get("email"))||null==t.errors?null:t.errors.required),i.xp6(2),i.Q6J("ngIf",null==(n=e.editForm.get("email"))||null==n.errors?null:n.errors.maxlength),i.xp6(2),i.Q6J("ngIf",null==(a=e.editForm.get("email"))||null==a.errors?null:a.errors.email)}}function I(e,t){1&e&&(i.TgZ(0,"div"),i._uU(1,"\n                "),i.TgZ(2,"small",28),i._uU(3,"\n              "),i.qZA(),i._uU(4,"\n              "),i.qZA())}function F(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"div",11),i._uU(1,"\n              "),i._UZ(2,"label",26),i._uU(3,"\n              "),i.TgZ(4,"input",27),i.NdJ("keypress",function(t){return i.CHM(e),i.oxw(2).omitSpace(t)}),i.qZA(),i._uU(5,"\n           \n              "),i.YNc(6,I,5,0,"div",6),i._uU(7,"\n      "),i.qZA()}if(2&e){const e=i.oxw(2);i.xp6(6),i.Q6J("ngIf",e.editForm.get("passwrd").invalid&&(e.editForm.get("passwrd").dirty||e.editForm.get("passwrd").touched))}}function M(e,t){if(1&e&&(i.TgZ(0,"option",33),i._uU(1),i.qZA()),2&e){const e=t.$implicit;i.Q6J("value",e.value),i.xp6(1),i.Oqu(e.name)}}function j(e,t){if(1&e&&(i.TgZ(0,"div",11),i._uU(1,"\n          "),i.TgZ(2,"label",29),i._uU(3,"Profiles"),i.qZA(),i._uU(4,"\n          "),i.TgZ(5,"select",30),i._uU(6,"\n            "),i.TgZ(7,"option",31),i._uU(8,"Seleccione Perfil "),i.qZA(),i._uU(9,"\n            "),i.YNc(10,M,2,2,"option",32),i._uU(11,"\n             "),i.qZA(),i._uU(12,"\n        "),i.qZA()),2&e){const e=i.oxw(2);i.xp6(10),i.Q6J("ngForOf",e.AUTHS_CONTS)}}function w(e,t){if(1&e&&(i.TgZ(0,"div"),i._uU(1,"\n        "),i._UZ(2,"jhi-alert-error"),i._uU(3,"\n        \n        "),i.TgZ(4,"div",11),i._uU(5,"\n          "),i.TgZ(6,"label",12),i._uU(7,"First Name"),i.qZA(),i._uU(8,"\n          "),i._UZ(9,"input",13),i._uU(10,"\n  \n          "),i.YNc(11,b,4,1,"div",6),i._uU(12,"\n        "),i.qZA(),i._uU(13,"\n        "),i.TgZ(14,"div",11),i._uU(15,"\n          "),i.TgZ(16,"label",14),i._uU(17,"Email"),i.qZA(),i._uU(18,"\n          "),i.YNc(19,A,1,0,"input",15),i._uU(20,"\n          "),i.YNc(21,y,1,0,"input",16),i._uU(22,"\n         \n\n          "),i.YNc(23,N,8,3,"div",6),i._uU(24,"\n        "),i.qZA(),i._uU(25,"\n\n          "),i.YNc(26,F,8,1,"div",17),i._uU(27,"\n        "),i.YNc(28,j,13,1,"div",17),i._uU(29,"\n      "),i.qZA()),2&e){const e=i.oxw();i.xp6(11),i.Q6J("ngIf",e.editForm.get("fullname").invalid&&(e.editForm.get("fullname").dirty||e.editForm.get("fullname").touched)),i.xp6(8),i.Q6J("ngIf",null==e.user.uuid),i.xp6(2),i.Q6J("ngIf",void 0!==e.user.uuid),i.xp6(2),i.Q6J("ngIf",e.editForm.get("email").invalid&&(e.editForm.get("email").dirty||e.editForm.get("email").touched)),i.xp6(3),i.Q6J("ngIf",null==e.user.uuid),i.xp6(2),i.Q6J("ngIf",e.editProfile)}}function J(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",38),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).previousState()}),i._uU(1,"\n          "),i._UZ(2,"fa-icon",39),i._uU(3,"\xa0"),i.TgZ(4,"span",40),i._uU(5,"Cancel"),i.qZA(),i._uU(6,"\n        "),i.qZA()}}function Y(e,t){if(1&e&&(i.TgZ(0,"button",41),i._uU(1,"\n          "),i._UZ(2,"fa-icon",42),i._uU(3,"\xa0"),i.TgZ(4,"span",43),i._uU(5,"Save"),i.qZA(),i._uU(6,"\n        "),i.qZA()),2&e){const e=i.oxw(2);i.Q6J("disabled",e.editForm.invalid||e.isSaving)}}function Q(e,t){if(1&e){const e=i.EpF();i.TgZ(0,"button",44),i.NdJ("click",function(){return i.CHM(e),i.oxw(2).update()}),i._uU(1,"\n          "),i._UZ(2,"fa-icon",42),i._uU(3,"\xa0"),i.TgZ(4,"span",45),i._uU(5,"Save"),i.qZA(),i._uU(6,"\n        "),i.qZA()}}function k(e,t){if(1&e&&(i.TgZ(0,"div",34),i._uU(1,"\n        "),i.YNc(2,J,7,0,"button",35),i._uU(3,"\n\n        "),i.YNc(4,Y,7,1,"button",36),i._uU(5,"\n        "),i.YNc(6,Q,7,0,"button",37),i._uU(7,"\n      "),i.qZA()),2&e){const e=i.oxw();i.xp6(2),i.Q6J("ngIf",!e.isCompany&&null==e.user.uuid),i.xp6(2),i.Q6J("ngIf",null==e.user.uuid),i.xp6(2),i.Q6J("ngIf",void 0!==e.user.uuid)}}let L=(()=>{class e{constructor(e,t,n,r,o,l){this.userService=e,this.route=t,this.fb=n,this.alertService=r,this.accountService=o,this.translate=l,this.isCompany=!1,this.idCompany=0,this.callUpdate=new i.vpe,this.destroy$=new u.xQ,this.languages=s.a,this.editProfile=!1,this.authorities=[],this.isSaving=!1,this.account=null,this.AUTHS_CONTS=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}],this.editForm=this.fb.group({email:["",[a.kI.maxLength(254),a.kI.email]],authorities:[],passwrd:["",[a.kI.required,a.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[a.kI.maxLength(150)]]})}ngOnInit(){this.editProfile=this.route.snapshot.data.profile,this.route.data.subscribe(({user:e})=>{e&&(this.user=e,void 0===this.user.id&&(this.user.activated=!0),this.updateForm(e))}),this.userService.authorities().subscribe(e=>this.authorities=e),this.accountService.getAuthenticationState().pipe((0,r.R)(this.destroy$)).subscribe(e=>{this.account=e})}previousState(){var e;this.user.login==(null===(e=this.account)||void 0===e?void 0:e.email)?this.alertService.addAlert({type:"success",message:this.translate.instant("global.relogneed"),toast:!1}):window.history.back()}save(){this.isSaving=!0,this.updateUser(this.user),void 0!==this.user.uuid?this.userService.update(this.user).subscribe(e=>{this.onSaveSuccess()},()=>this.onSaveError()):this.userService.create(this.user).subscribe(e=>{var t;this.isCompany?this.userService.userAdminToUserStream({emailStream:e.email,emailAdmin:null===(t=this.account)||void 0===t?void 0:t.email}).subscribe(t=>{this.userService.userToCompany({id:this.idCompany,idUsuario:e.id,emailUser:e.email}).subscribe(t=>{this.callUpdate.emit({id:e.id,idData:t.id,login:e.email}),this.initForm(),this.isSaving=!1})}):this.onSaveSuccess()},()=>this.onSaveError())}update(){this.updateUserForUpdate(this.user),this.userService.update(this.user).subscribe(e=>{this.onSaveSuccess()},()=>this.onSaveError())}omitSpace(e){return 32!=e.charCode}initForm(){this.editForm=this.fb.group({email:["",[a.kI.maxLength(254),a.kI.email]],authorities:[],passwrd:["",[a.kI.required,a.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[a.kI.maxLength(150)]]})}updateForm(e){this.editForm.patchValue({id:e.uuid,login:e.login,fullname:e.fullName,lastName:e.lastName,email:e.login,activated:e.activated,langKey:e.langKey,authorities:e.authority})}updateUser(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value],e.password=this.editForm.get(["passwrd"]).value,this.isCompany&&(e.authorities=["STREAM_ADMIN"])}updateUserForUpdate(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value]}onSaveSuccess(){this.isSaving=!1,this.previousState()}onSaveError(){this.isSaving=!1}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.x),i.Y36(l.gz),i.Y36(a.qu),i.Y36(c.c),i.Y36(d.B),i.Y36(m.sK))},e.\u0275cmp=i.Xpm({type:e,selectors:[["jhi-user-mgmt-update"]],inputs:{user:"user",isCompany:"isCompany",idCompany:"idCompany"},outputs:{callUpdate:"callUpdate"},decls:19,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.create",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData",4,"ngIf"],[4,"ngIf"],["style","margin-top:10px;",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel"],["id","myUserLabel","jhiTranslate","userManagement.home.create"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.fullname",1,"form-control-label"],["type","text","name","fullname","formControlName","fullname",1,"form-control"],["jhiTranslate","userManagement.email",1,"form-control-label"],["type","email","class","form-control","name","email","formControlName","email",4,"ngIf"],["readonly","","class","form-control","formControlName","email",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["type","email","name","email","formControlName","email",1,"form-control"],["readonly","","formControlName","email",1,"form-control"],["class","form-text text-danger","jhiTranslate","entity.validation.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["jhiTranslate","entity.validation.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["for","passwrd","jhiTranslate","userManagement.password"],["type","text","name","password","value","","formControlName","passwrd",1,"form-control",3,"keypress"],["jhiTranslate","entity.validation.password",1,"form-text","text-danger"],["jhiTranslate","userManagement.profiles"],["name","authority","formControlName","authorities",1,"form-control"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin-top","10px"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"],["type","button",1,"btn","btn-primary",3,"click"],["jhiTranslate","entity.action.update"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i._uU(1,"\n  "),i.TgZ(2,"div",1),i._uU(3,"\n    "),i.TgZ(4,"form",2),i.NdJ("ngSubmit",function(){return t.save()}),i._uU(5,"\n      "),i.YNc(6,U,2,0,"h2",3),i._uU(7,"\n      "),i.YNc(8,_,2,0,"h2",4),i._uU(9,"\n      "),i.YNc(10,Z,2,0,"h2",5),i._uU(11,"\n\n      "),i.YNc(12,w,30,6,"div",6),i._uU(13,"\n   \n\n      "),i.YNc(14,k,8,3,"div",7),i._uU(15,"\n    "),i.qZA(),i._uU(16,"\n  "),i.qZA(),i._uU(17,"\n"),i.qZA(),i._uU(18,"\n")),2&e&&(i.xp6(4),i.Q6J("formGroup",t.editForm),i.xp6(2),i.Q6J("ngIf",!t.isCompany&&null==t.user.uuid),i.xp6(2),i.Q6J("ngIf",t.isCompany&&null==t.user.uuid),i.xp6(2),i.Q6J("ngIf",null!=t.user.uuid),i.xp6(2),i.Q6J("ngIf",t.user),i.xp6(2),i.Q6J("ngIf",t.user))},directives:[a._Y,a.JL,a.sg,g.O5,h.P,p.A,a.Fj,a.JJ,a.u,a.EJ,a.YN,a.Kr,g.sg,f.BN],encapsulation:2}),e})()},5191:function(e,t,n){n.d(t,{n:function(){return i}});class i{constructor(e,t,n,i,a,r,s,u,o,l,c,d,m,g,h,p,f){this.id=e,this.login=t,this.firstName=n,this.lastName=i,this.email=a,this.activated=r,this.langKey=s,this.authorities=u,this.createdBy=o,this.createdDate=l,this.lastModifiedBy=c,this.lastModifiedDate=d,this.password=m,this.sub=g,this.fullName=h,this.uuid=p,this.authority=f}}},6392:function(e,t,n){n.r(t),n.d(t,{UserManagementModule:function(){return ge}});var i=n(8335),a=n(1382),r=n(267),s=n(5191),u=n(6905),o=n(4991),l=n(2741),c=n(3449),d=n(7390),m=n(222),g=n(3324),h=n(4243),p=n(6662),f=n(4477);const U=function(e){return{login:e}};function _(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"form",1),l.NdJ("ngSubmit",function(){l.CHM(e);const t=l.oxw();return t.confirmDelete(t.user.login)}),l._uU(1,"\n  "),l.TgZ(2,"div",2),l._uU(3,"\n    "),l.TgZ(4,"h4",3),l._uU(5,"Confirm delete operation"),l.qZA(),l._uU(6,"\n\n    "),l.TgZ(7,"button",4),l.NdJ("click",function(){return l.CHM(e),l.oxw().cancel()}),l._uU(8,"\xd7"),l.qZA(),l._uU(9,"\n  "),l.qZA(),l._uU(10,"\n\n  "),l.TgZ(11,"div",5),l._uU(12,"\n    "),l._UZ(13,"jhi-alert-error"),l._uU(14,"\n\n    "),l.TgZ(15,"p",6),l._uU(16,"\n      Are you sure you want to delete this User?\n    "),l.qZA(),l._uU(17,"\n  "),l.qZA(),l._uU(18,"\n\n  "),l.TgZ(19,"div",7),l._uU(20,"\n    "),l.TgZ(21,"button",8),l.NdJ("click",function(){return l.CHM(e),l.oxw().cancel()}),l._uU(22,"\n      "),l._UZ(23,"fa-icon",9),l._uU(24,"\xa0"),l.TgZ(25,"span",10),l._uU(26,"Cancel"),l.qZA(),l._uU(27,"\n    "),l.qZA(),l._uU(28,"\n\n    "),l.TgZ(29,"button",11),l._uU(30,"\n      "),l._UZ(31,"fa-icon",12),l._uU(32,"\xa0"),l.TgZ(33,"span",13),l._uU(34,"Delete"),l.qZA(),l._uU(35,"\n    "),l.qZA(),l._uU(36,"\n  "),l.qZA(),l._uU(37,"\n"),l.qZA()}if(2&e){const e=l.oxw();l.xp6(15),l.Q6J("translateValues",l.VKq(1,U,e.user.login))}}let Z=(()=>{class e{constructor(e,t){this.userService=e,this.activeModal=t}cancel(){this.activeModal.dismiss()}confirmDelete(e){this.userService.delete({sub:e}).subscribe(()=>{this.activeModal.close("deleted")})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.x),l.Y36(d.Kz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["jhi-user-mgmt-delete-dialog"]],decls:2,vars:1,consts:[["name","deleteForm",3,"ngSubmit",4,"ngIf"],["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],["jhiTranslate","entity.delete.title",1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["jhiTranslate","userManagement.delete.question",3,"translateValues"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-danger"],["icon","times"],["jhiTranslate","entity.action.delete"]],template:function(e,t){1&e&&(l.YNc(0,_,38,3,"form",0),l._uU(1,"\n")),2&e&&l.Q6J("ngIf",t.user)},directives:[m.O5,g._Y,g.JL,g.F,h.P,p.A,f.BN],encapsulation:2}),e})();var v=n(1322),T=n(8467),b=n(1066),A=n(6059),y=n(9044);function q(e,t){if(1&e&&(l.TgZ(0,"option",14),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("value",e.value),l.xp6(1),l.Oqu(e.name)}}function x(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"tr",24),l.NdJ("dblclick",function(){const t=l.CHM(e).$implicit;return l.oxw(3).doubleClick(t.login)}),l._uU(1,"\n          "),l.TgZ(2,"td"),l._uU(3),l.qZA(),l._uU(4,"\n          "),l.TgZ(5,"td"),l._uU(6),l.qZA(),l._uU(7,"\n          "),l.TgZ(8,"td"),l._uU(9,"\n         \n          "),l.qZA(),l._uU(10,"\n\n          "),l.TgZ(11,"td",25),l._uU(12,"\n            "),l.TgZ(13,"div",26),l._uU(14,"\n           \n              "),l.TgZ(15,"button",27),l.NdJ("click",function(){const t=l.CHM(e).$implicit;return l.oxw(3).deleteUser(t)}),l._uU(16,"\n                "),l._UZ(17,"fa-icon",28),l._uU(18,"\n                "),l.TgZ(19,"span",29),l._uU(20,"Delete"),l.qZA(),l._uU(21,"\n              "),l.qZA(),l._uU(22,"\n            "),l.qZA(),l._uU(23,"\n          "),l.qZA(),l._uU(24,"\n        "),l.qZA()}if(2&e){const e=t.$implicit,n=l.oxw(3);l.xp6(3),l.Oqu(e.login),l.xp6(3),l.Oqu(e.fullName),l.xp6(9),l.Q6J("disabled",!n.currentAccount||n.currentAccount.login===e.login)}}function S(e,t){if(1&e&&(l.TgZ(0,"tbody"),l._uU(1,"\n        "),l.YNc(2,x,25,3,"tr",23),l._uU(3,"\n      "),l.qZA()),2&e){const e=l.oxw(2);l.xp6(2),l.Q6J("ngForOf",e.users)("ngForTrackBy",e.trackIdentity)}}function C(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",15),l._uU(1,"\n    "),l.TgZ(2,"table",16),l._uU(3,"\n      "),l.TgZ(4,"thead"),l._uU(5,"\n        "),l.TgZ(6,"tr",17),l.NdJ("predicateChange",function(t){return l.CHM(e),l.oxw().predicate=t})("ascendingChange",function(t){return l.CHM(e),l.oxw().ascending=t})("sortChange",function(){return l.CHM(e),l.oxw().transition()}),l._uU(7,"\n          "),l.TgZ(8,"th",18),l.TgZ(9,"span",19),l._uU(10,"Email"),l.qZA(),l._uU(11," "),l.qZA(),l._uU(12,"\n          "),l.TgZ(13,"th",18),l.TgZ(14,"span",20),l._uU(15,"Email"),l.qZA(),l._uU(16," "),l.qZA(),l._uU(17,"\n     \n\n    \n          "),l._UZ(18,"th",21),l._uU(19,"\n        "),l.qZA(),l._uU(20,"\n      "),l.qZA(),l._uU(21,"\n      "),l.YNc(22,S,4,2,"tbody",22),l._uU(23,"\n    "),l.qZA(),l._uU(24,"\n  "),l.qZA()}if(2&e){const e=l.oxw();l.xp6(6),l.Q6J("predicate",e.predicate)("ascending",e.ascending),l.xp6(16),l.Q6J("ngIf",e.users)}}const N=function(){return["./new"]};let I=(()=>{class e{constructor(e,t,n,i,a){this.userService=e,this.accountService=t,this.activatedRoute=n,this.router=i,this.modalService=a,this.currentAccount=null,this.users=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=o.gK,this.authority="-1",this.authorities=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}]}ngOnInit(){this.accountService.identity().subscribe(e=>this.currentAccount=e),this.handleNavigation()}doubleClick(e){(this.accountService.hasAnyAuthority(v.W.SUPER_USER)||this.accountService.hasAnyAuthority(v.W.COMPANY_ADMIN))&&this.router.navigate(["/admin/user-management/"+e+"/allowprofile"])}trackIdentity(e,t){return t.id}deleteUser(e){const t=this.modalService.open(Z,{size:"lg",backdrop:"static"});t.componentInstance.user=e,t.closed.subscribe(e=>{"deleted"===e&&this.loadAll()})}onChangeProfile(e){this.loadAll()}loadAll(){this.isLoading=!0,this.userService.query(this.authority).subscribe(e=>{this.isLoading=!1,this.onSuccess(e)},()=>this.isLoading=!1)}transition(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:`${this.predicate},${this.ascending?o.aW:o.jo}`}})}handleNavigation(){(0,u.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([e,t])=>{})}sort(){const e=[`${this.predicate},${this.ascending?o.aW:o.jo}`];return"id"!==this.predicate&&e.push("id"),e}onSuccess(e){this.users=e}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.x),l.Y36(T.B),l.Y36(i.gz),l.Y36(i.F0),l.Y36(d.FF))},e.\u0275cmp=l.Xpm({type:e,selectors:[["jhi-user-mgmt"]],decls:48,vars:7,consts:[["id","user-management-page-heading","jhiTranslate","userManagement.home.title","data-cy","userManagementPageHeading",1,"mdi","mdi-account"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","userManagement.home.refreshListLabel"],[1,"btn","btn-primary","jh-create-entity",3,"routerLink"],["icon","plus"],["jhiTranslate","userManagement.home.createLabel"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.profiles"],[1,"form-control",3,"ngModel","change","ngModelChange"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["aria-describedby","user-management-page-heading",1,"table","table-striped","table-hover","cursor-grab-table"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","email"],["jhiTranslate","userManagement.email"],["jhiTranslate","userManagement.fullname"],["scope","col"],[4,"ngIf"],[3,"dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dblclick"],[1,"text-right"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"disabled","click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"]],template:function(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"\n  "),l.TgZ(2,"h2"),l._uU(3,"\n    "),l.TgZ(4,"span",0),l._uU(5,"Users"),l.qZA(),l._uU(6,"\n\n    "),l.TgZ(7,"div",1),l._uU(8,"\n      "),l.TgZ(9,"button",2),l.NdJ("click",function(){return t.loadAll()}),l._uU(10,"\n        "),l._UZ(11,"fa-icon",3),l._uU(12,"\n        "),l.TgZ(13,"span",4),l._uU(14,"Refresh List"),l.qZA(),l._uU(15,"\n      "),l.qZA(),l._uU(16,"\n      "),l.TgZ(17,"button",5),l._uU(18,"\n        "),l._UZ(19,"fa-icon",6),l._uU(20," "),l.TgZ(21,"span",7),l._uU(22,"Create a new User"),l.qZA(),l._uU(23,"\n      "),l.qZA(),l._uU(24,"\n    "),l.qZA(),l._uU(25,"\n  "),l.qZA(),l._uU(26,"\n\n  "),l._UZ(27,"jhi-alert-error"),l._uU(28,"\n\n  "),l._UZ(29,"jhi-alert"),l._uU(30,"\n  "),l.TgZ(31,"div",8),l._uU(32,"\n    "),l.TgZ(33,"label",9),l._uU(34,"Profiles"),l.qZA(),l._uU(35,"\n    "),l.TgZ(36,"select",10),l.NdJ("change",function(){return t.onChangeProfile(t.authority)})("ngModelChange",function(e){return t.authority=e}),l._uU(37,"\n      "),l.TgZ(38,"option",11),l._uU(39,"Seleccione Perfil "),l.qZA(),l._uU(40,"\n      "),l.YNc(41,q,2,2,"option",12),l._uU(42,"\n    "),l.qZA(),l._uU(43,"\n  "),l.qZA(),l._uU(44,"\n  "),l.YNc(45,C,25,3,"div",13),l._uU(46,"\n\n"),l.qZA(),l._uU(47,"\n")),2&e&&(l.xp6(9),l.Q6J("disabled",t.isLoading),l.xp6(2),l.Q6J("spin",t.isLoading),l.xp6(6),l.Q6J("routerLink",l.DdM(6,N)),l.xp6(19),l.Q6J("ngModel",t.authority),l.xp6(5),l.Q6J("ngForOf",t.authorities),l.xp6(4),l.Q6J("ngIf",t.users))},directives:[h.P,f.BN,i.rH,p.A,b.w,g.EJ,g.JJ,g.On,g.YN,g.Kr,m.sg,m.O5,A.b,y.T],encapsulation:2}),e})();function F(e,t){1&e&&(l.TgZ(0,"span",22),l._uU(1,"Activated"),l.qZA())}function M(e,t){1&e&&(l.TgZ(0,"span",23),l._uU(1,"Deactivated"),l.qZA())}function j(e,t){if(1&e&&(l.TgZ(0,"li"),l._uU(1,"\n              "),l.TgZ(2,"span",24),l._uU(3),l.qZA(),l._uU(4,"\n            "),l.qZA()),2&e){const e=t.$implicit;l.xp6(3),l.Oqu(e)}}function w(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1,"\n      "),l.TgZ(2,"h2"),l._uU(3,"\n        "),l.TgZ(4,"span",3),l._uU(5,"User"),l.qZA(),l._uU(6," ["),l.TgZ(7,"strong"),l._uU(8),l.qZA(),l._uU(9,"]\n      "),l.qZA(),l._uU(10,"\n\n      "),l.TgZ(11,"dl",4),l._uU(12,"\n        "),l.TgZ(13,"dt"),l.TgZ(14,"span",5),l._uU(15,"Login"),l.qZA(),l.qZA(),l._uU(16,"\n        "),l.TgZ(17,"dd"),l._uU(18,"\n          "),l.TgZ(19,"span"),l._uU(20),l.qZA(),l._uU(21,"\n          "),l.YNc(22,F,2,0,"span",6),l._uU(23,"\n          "),l.YNc(24,M,2,0,"span",7),l._uU(25,"\n        "),l.qZA(),l._uU(26,"\n\n        "),l.TgZ(27,"dt"),l.TgZ(28,"span",8),l._uU(29,"First Name"),l.qZA(),l.qZA(),l._uU(30,"\n        "),l.TgZ(31,"dd"),l._uU(32),l.qZA(),l._uU(33,"\n\n        "),l.TgZ(34,"dt"),l.TgZ(35,"span",9),l._uU(36,"Last Name"),l.qZA(),l.qZA(),l._uU(37,"\n        "),l.TgZ(38,"dd"),l._uU(39),l.qZA(),l._uU(40,"\n\n        "),l.TgZ(41,"dt"),l.TgZ(42,"span",10),l._uU(43,"Email"),l.qZA(),l.qZA(),l._uU(44,"\n        "),l.TgZ(45,"dd"),l._uU(46),l.qZA(),l._uU(47,"\n\n        "),l.TgZ(48,"dt"),l.TgZ(49,"span",11),l._uU(50,"Lang Key"),l.qZA(),l.qZA(),l._uU(51,"\n        "),l.TgZ(52,"dd"),l._uU(53),l.qZA(),l._uU(54,"\n\n        "),l.TgZ(55,"dt"),l.TgZ(56,"span",12),l._uU(57,"Created By"),l.qZA(),l.qZA(),l._uU(58,"\n        "),l.TgZ(59,"dd"),l._uU(60),l.qZA(),l._uU(61,"\n\n        "),l.TgZ(62,"dt"),l.TgZ(63,"span",13),l._uU(64,"Created Date"),l.qZA(),l.qZA(),l._uU(65,"\n        "),l.TgZ(66,"dd"),l._uU(67),l.ALo(68,"date"),l.qZA(),l._uU(69,"\n\n        "),l.TgZ(70,"dt"),l.TgZ(71,"span",14),l._uU(72,"Last Modified By"),l.qZA(),l.qZA(),l._uU(73,"\n        "),l.TgZ(74,"dd"),l._uU(75),l.qZA(),l._uU(76,"\n\n        "),l.TgZ(77,"dt"),l.TgZ(78,"span",15),l._uU(79,"Last Modified Date"),l.qZA(),l.qZA(),l._uU(80,"\n        "),l.TgZ(81,"dd"),l._uU(82),l.ALo(83,"date"),l.qZA(),l._uU(84,"\n\n        "),l.TgZ(85,"dt"),l.TgZ(86,"span",16),l._uU(87,"Profiles"),l.qZA(),l.qZA(),l._uU(88,"\n        "),l.TgZ(89,"dd"),l._uU(90,"\n          "),l.TgZ(91,"ul",17),l._uU(92,"\n            "),l.YNc(93,j,5,1,"li",18),l._uU(94,"\n          "),l.qZA(),l._uU(95,"\n        "),l.qZA(),l._uU(96,"\n      "),l.qZA(),l._uU(97,"\n\n      "),l.TgZ(98,"button",19),l._uU(99,"\n        "),l._UZ(100,"fa-icon",20),l._uU(101,"\xa0"),l.TgZ(102,"span",21),l._uU(103,"Back"),l.qZA(),l._uU(104,"\n      "),l.qZA(),l._uU(105,"\n    "),l.qZA()),2&e){const e=l.oxw();l.xp6(8),l.Oqu(e.user.login),l.xp6(12),l.Oqu(e.user.login),l.xp6(2),l.Q6J("ngIf",e.user.activated),l.xp6(2),l.Q6J("ngIf",!e.user.activated),l.xp6(8),l.Oqu(e.user.firstName),l.xp6(7),l.Oqu(e.user.lastName),l.xp6(7),l.Oqu(e.user.email),l.xp6(7),l.Oqu(e.user.langKey),l.xp6(7),l.Oqu(e.user.createdBy),l.xp6(7),l.Oqu(l.xi3(68,13,e.user.createdDate,"dd/MM/yy HH:mm")),l.xp6(8),l.Oqu(e.user.lastModifiedBy),l.xp6(7),l.Oqu(l.xi3(83,16,e.user.lastModifiedDate,"dd/MM/yy HH:mm")),l.xp6(11),l.Q6J("ngForOf",e.user.authorities)}}let J=(()=>{class e{constructor(e){this.route=e,this.user=null}ngOnInit(){this.route.data.subscribe(({user:e})=>{this.user=e})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.gz))},e.\u0275cmp=l.Xpm({type:e,selectors:[["jhi-user-mgmt-detail"]],decls:8,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-8"],[4,"ngIf"],["jhiTranslate","userManagement.detail.title"],[1,"row-md","jh-entity-details"],["jhiTranslate","userManagement.login"],["class","badge badge-success","jhiTranslate","userManagement.activated",4,"ngIf"],["class","badge badge-danger","jhiTranslate","userManagement.deactivated",4,"ngIf"],["jhiTranslate","userManagement.firstName"],["jhiTranslate","userManagement.lastName"],["jhiTranslate","userManagement.email"],["jhiTranslate","userManagement.langKey"],["jhiTranslate","userManagement.createdBy"],["jhiTranslate","userManagement.createdDate"],["jhiTranslate","userManagement.lastModifiedBy"],["jhiTranslate","userManagement.lastModifiedDate"],["jhiTranslate","userManagement.profiles"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["type","submit","routerLink","../../",1,"btn","btn-info"],["icon","arrow-left"],["jhiTranslate","entity.action.back"],["jhiTranslate","userManagement.activated",1,"badge","badge-success"],["jhiTranslate","userManagement.deactivated",1,"badge","badge-danger"],[1,"badge","badge-info"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.YNc(4,w,106,19,"div",2),l._uU(5,"\n  "),l.qZA(),l._uU(6,"\n"),l.qZA(),l._uU(7,"\n")),2&e&&(l.xp6(4),l.Q6J("ngIf",t.user))},directives:[m.O5,h.P,m.sg,i.rH,f.BN],pipes:[m.uU],encapsulation:2}),e})();var Y=n(2039),Q=n(7194),k=n(2553),L=n(6006),E=n(6912),O=n(1633);function D(e,t){1&e&&(l.TgZ(0,"h2",8),l._uU(1,"Create or edit a User"),l.qZA())}function P(e,t){1&e&&(l.TgZ(0,"h2",9),l._uU(1,"Create or edit a User"),l.qZA())}function $(e,t){1&e&&(l.TgZ(0,"h2",10),l._uU(1,"Create or edit a User"),l.qZA())}const B=function(){return{max:150}};function H(e,t){1&e&&(l.TgZ(0,"small",19),l._uU(1,"\n              This field cannot be longer than 150 characters.\n            "),l.qZA()),2&e&&l.Q6J("translateValues",l.DdM(1,B))}function R(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1,"\n            "),l.YNc(2,H,2,2,"small",18),l._uU(3,"\n          "),l.qZA()),2&e){const e=l.oxw(2);let t;l.xp6(2),l.Q6J("ngIf",null==(t=e.editForm.get("fullname"))||null==t.errors?null:t.errors.maxlength)}}function K(e,t){1&e&&l._UZ(0,"input",20)}function z(e,t){1&e&&l._UZ(0,"input",21)}function G(e,t){1&e&&(l.TgZ(0,"small",24),l._uU(1,"\n              This field is required.\n            "),l.qZA())}const V=function(){return{max:100}};function W(e,t){1&e&&(l.TgZ(0,"small",19),l._uU(1,"\n              This field cannot be longer than 100 characters.\n            "),l.qZA()),2&e&&l.Q6J("translateValues",l.DdM(1,V))}function X(e,t){1&e&&(l.TgZ(0,"small",25),l._uU(1,"\n              Your email is invalid.\n            "),l.qZA())}function ee(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1,"\n            "),l.YNc(2,G,2,0,"small",22),l._uU(3,"\n\n            "),l.YNc(4,W,2,2,"small",18),l._uU(5,"\n\n      \n            "),l.YNc(6,X,2,0,"small",23),l._uU(7,"\n          "),l.qZA()),2&e){const e=l.oxw(2);let t,n,i;l.xp6(2),l.Q6J("ngIf",null==(t=e.editForm.get("email"))||null==t.errors?null:t.errors.required),l.xp6(2),l.Q6J("ngIf",null==(n=e.editForm.get("email"))||null==n.errors?null:n.errors.maxlength),l.xp6(2),l.Q6J("ngIf",null==(i=e.editForm.get("email"))||null==i.errors?null:i.errors.email)}}function te(e,t){1&e&&(l.TgZ(0,"div"),l._uU(1,"\n                "),l.TgZ(2,"small",28),l._uU(3,"\n              "),l.qZA(),l._uU(4,"\n              "),l.qZA())}function ne(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",11),l._uU(1,"\n              "),l._UZ(2,"label",26),l._uU(3,"\n              "),l.TgZ(4,"input",27),l.NdJ("keypress",function(t){return l.CHM(e),l.oxw(2).omitSpace(t)}),l.qZA(),l._uU(5,"\n           \n              "),l.YNc(6,te,5,0,"div",6),l._uU(7,"\n      "),l.qZA()}if(2&e){const e=l.oxw(2);l.xp6(6),l.Q6J("ngIf",e.editForm.get("passwrd").invalid&&(e.editForm.get("passwrd").dirty||e.editForm.get("passwrd").touched))}}function ie(e,t){if(1&e&&(l.TgZ(0,"option",33),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("value",e.value),l.xp6(1),l.Oqu(e.name)}}function ae(e,t){if(1&e&&(l.TgZ(0,"div",11),l._uU(1,"\n          "),l.TgZ(2,"label",29),l._uU(3,"Profiles"),l.qZA(),l._uU(4,"\n          "),l.TgZ(5,"select",30),l._uU(6,"\n            "),l.TgZ(7,"option",31),l._uU(8,"Seleccione Perfil "),l.qZA(),l._uU(9,"\n            "),l.YNc(10,ie,2,2,"option",32),l._uU(11,"\n             "),l.qZA(),l._uU(12,"\n        "),l.qZA()),2&e){const e=l.oxw(2);l.xp6(10),l.Q6J("ngForOf",e.AUTHS_CONTS)}}function re(e,t){if(1&e&&(l.TgZ(0,"div"),l._uU(1,"\n        "),l._UZ(2,"jhi-alert-error"),l._uU(3,"\n        "),l._UZ(4,"jhi-alert"),l._uU(5,"\n          \n        "),l.TgZ(6,"div",11),l._uU(7,"\n          "),l.TgZ(8,"label",12),l._uU(9,"First Name"),l.qZA(),l._uU(10,"\n          "),l._UZ(11,"input",13),l._uU(12,"\n  \n          "),l.YNc(13,R,4,1,"div",6),l._uU(14,"\n        "),l.qZA(),l._uU(15,"\n        "),l.TgZ(16,"div",11),l._uU(17,"\n          "),l.TgZ(18,"label",14),l._uU(19,"Email"),l.qZA(),l._uU(20,"\n          "),l.YNc(21,K,1,0,"input",15),l._uU(22,"\n          "),l.YNc(23,z,1,0,"input",16),l._uU(24,"\n         \n\n          "),l.YNc(25,ee,8,3,"div",6),l._uU(26,"\n        "),l.qZA(),l._uU(27,"\n\n          "),l.YNc(28,ne,8,1,"div",17),l._uU(29,"\n        "),l.YNc(30,ae,13,1,"div",17),l._uU(31,"\n      "),l.qZA()),2&e){const e=l.oxw();l.xp6(13),l.Q6J("ngIf",e.editForm.get("fullname").invalid&&(e.editForm.get("fullname").dirty||e.editForm.get("fullname").touched)),l.xp6(8),l.Q6J("ngIf",null==e.user.uuid),l.xp6(2),l.Q6J("ngIf",void 0!==e.user.uuid),l.xp6(2),l.Q6J("ngIf",e.editForm.get("email").invalid&&(e.editForm.get("email").dirty||e.editForm.get("email").touched)),l.xp6(3),l.Q6J("ngIf",null==e.user.uuid),l.xp6(2),l.Q6J("ngIf",!e.isCompany&&null==e.user.uuid)}}function se(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",38),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).previousState()}),l._uU(1,"\n          "),l._UZ(2,"fa-icon",39),l._uU(3,"\xa0"),l.TgZ(4,"span",40),l._uU(5,"Cancel"),l.qZA(),l._uU(6,"\n        "),l.qZA()}}function ue(e,t){if(1&e&&(l.TgZ(0,"button",41),l._uU(1,"\n          "),l._UZ(2,"fa-icon",42),l._uU(3,"\xa0"),l.TgZ(4,"span",43),l._uU(5,"Save"),l.qZA(),l._uU(6,"\n        "),l.qZA()),2&e){const e=l.oxw(2);l.Q6J("disabled",e.editForm.invalid||e.isSaving)}}function oe(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"button",44),l.NdJ("click",function(){return l.CHM(e),l.oxw(2).update()}),l._uU(1,"\n          "),l._UZ(2,"fa-icon",42),l._uU(3,"\xa0"),l.TgZ(4,"span",45),l._uU(5,"Save"),l.qZA(),l._uU(6,"\n        "),l.qZA()}}function le(e,t){if(1&e&&(l.TgZ(0,"div",34),l._uU(1,"\n        "),l.YNc(2,se,7,0,"button",35),l._uU(3,"\n\n        "),l.YNc(4,ue,7,1,"button",36),l._uU(5,"\n        "),l.YNc(6,oe,7,0,"button",37),l._uU(7,"\n      "),l.qZA()),2&e){const e=l.oxw();l.xp6(2),l.Q6J("ngIf",!e.isCompany&&null==e.user.uuid),l.xp6(2),l.Q6J("ngIf",null==e.user.uuid),l.xp6(2),l.Q6J("ngIf",void 0!==e.user.uuid)}}let ce=(()=>{class e{constructor(e,t,n,i,a,r){this.userService=e,this.route=t,this.fb=n,this.alertService=i,this.accountService=a,this.translate=r,this.isCompany=!1,this.idCompany=0,this.callUpdate=new l.vpe,this.destroy$=new L.xQ,this.languages=k.a,this.authorities=[],this.isSaving=!1,this.account=null,this.AUTHS_CONTS=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}],this.editForm=this.fb.group({email:["",[g.kI.maxLength(254),g.kI.email]],authorities:[],passwrd:["",[g.kI.required,g.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[g.kI.maxLength(150)]]})}ngOnInit(){this.route.data.subscribe(({user:e})=>{e&&(this.user=e,void 0===this.user.id&&(this.user.activated=!0),this.updateForm(e))}),this.userService.authorities().subscribe(e=>this.authorities=e),this.accountService.getAuthenticationState().pipe((0,Q.R)(this.destroy$)).subscribe(e=>{this.account=e})}previousState(){var e;this.user.login==(null===(e=this.account)||void 0===e?void 0:e.email)?this.alertService.addAlert({type:"success",message:this.translate.instant("global.relogneed"),toast:!1}):window.history.back()}save(){this.isSaving=!0,this.updateUser(this.user),void 0!==this.user.uuid?this.userService.update(this.user).subscribe(e=>{this.onSaveSuccess()},()=>this.onSaveError()):this.userService.create(this.user).subscribe(e=>{var t;this.isCompany?this.userService.userAdminToUserStream({emailStream:e.email,emailAdmin:null===(t=this.account)||void 0===t?void 0:t.email}).subscribe(t=>{this.userService.userToCompany({id:this.idCompany,idUsuario:e.id,emailUser:e.email}).subscribe(t=>{this.callUpdate.emit({id:e.id,idData:t.id,login:e.email}),this.initForm(),this.isSaving=!1})}):this.onSaveSuccess()},()=>this.onSaveError())}update(){this.updateUserForUpdate(this.user),this.userService.update(this.user).subscribe(e=>{this.onSaveSuccess()},()=>this.onSaveError())}omitSpace(e){return 32!=e.charCode}initForm(){this.editForm=this.fb.group({email:["",[g.kI.maxLength(254),g.kI.email]],authorities:[],passwrd:["",[g.kI.required,g.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[g.kI.maxLength(150)]]})}updateForm(e){this.editForm.patchValue({id:e.uuid,login:e.login,fullname:e.fullName,lastName:e.lastName,email:e.login,activated:e.activated,langKey:e.langKey,authorities:e.authorities})}updateUser(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value],e.password=this.editForm.get(["passwrd"]).value,this.isCompany&&(e.authorities=["STREAM_ADMIN"])}updateUserForUpdate(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value}onSaveSuccess(){this.isSaving=!1,this.previousState()}onSaveError(){this.isSaving=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(c.x),l.Y36(i.gz),l.Y36(g.qu),l.Y36(E.c),l.Y36(T.B),l.Y36(O.sK))},e.\u0275cmp=l.Xpm({type:e,selectors:[["jhi-user-mgmst-update"]],inputs:{user:"user",isCompany:"isCompany",idCompany:"idCompany"},outputs:{callUpdate:"callUpdate"},decls:19,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.create",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData",4,"ngIf"],[4,"ngIf"],["style","margin-top:10px;",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel"],["id","myUserLabel","jhiTranslate","userManagement.home.create"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.fullname",1,"form-control-label"],["type","text","name","fullname","formControlName","fullname",1,"form-control"],["jhiTranslate","userManagement.email",1,"form-control-label"],["type","email","class","form-control","name","email","formControlName","email",4,"ngIf"],["readonly","","class","form-control","formControlName","email",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["type","email","name","email","formControlName","email",1,"form-control"],["readonly","","formControlName","email",1,"form-control"],["class","form-text text-danger","jhiTranslate","entity.validation.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["jhiTranslate","entity.validation.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["for","passwrd","jhiTranslate","userManagement.password"],["type","text","name","password","value","","formControlName","passwrd",1,"form-control",3,"keypress"],["jhiTranslate","entity.validation.password",1,"form-text","text-danger"],["jhiTranslate","userManagement.profiles"],["name","authority","formControlName","authorities",1,"form-control"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin-top","10px"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"],["type","button",1,"btn","btn-primary",3,"click"],["jhiTranslate","entity.action.update"]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.TgZ(2,"div",1),l._uU(3,"\n    "),l.TgZ(4,"form",2),l.NdJ("ngSubmit",function(){return t.save()}),l._uU(5,"\n      "),l.YNc(6,D,2,0,"h2",3),l._uU(7,"\n      "),l.YNc(8,P,2,0,"h2",4),l._uU(9,"\n      "),l.YNc(10,$,2,0,"h2",5),l._uU(11,"\n\n      "),l.YNc(12,re,32,6,"div",6),l._uU(13,"\n   \n\n      "),l.YNc(14,le,8,3,"div",7),l._uU(15,"\n    "),l.qZA(),l._uU(16,"\n  "),l.qZA(),l._uU(17,"\n"),l.qZA(),l._uU(18,"\n")),2&e&&(l.xp6(4),l.Q6J("formGroup",t.editForm),l.xp6(2),l.Q6J("ngIf",!t.isCompany&&null==t.user.uuid),l.xp6(2),l.Q6J("ngIf",t.isCompany&&null==t.user.uuid),l.xp6(2),l.Q6J("ngIf",null!=t.user.uuid),l.xp6(2),l.Q6J("ngIf",t.user),l.xp6(2),l.Q6J("ngIf",t.user))},directives:[g._Y,g.JL,g.sg,m.O5,h.P,p.A,b.w,g.Fj,g.JJ,g.u,g.EJ,g.YN,g.Kr,m.sg,f.BN],encapsulation:2}),e})(),de=(()=>{class e{constructor(e){this.service=e}resolve(e){const t=e.params.login;return t?this.service.find(t):(0,r.of)(new s.n)}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(c.x))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const me=[{path:"",component:I,data:{defaultSort:"id,asc"}},{path:":login/view",component:J,resolve:{user:de}},{path:"new",component:Y.b,resolve:{user:de},data:{profile:!0}},{path:":login/edit",component:Y.b,resolve:{user:de}},{path:":login/allowprofile",component:Y.b,resolve:{user:de},data:{profile:!0}},{path:":login/edituser",component:ce,resolve:{user:de}}];let ge=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.m,i.Bz.forChild(me)]]}),e})()},4991:function(e,t,n){n.d(t,{gK:function(){return i},aW:function(){return a},jo:function(){return r},_l:function(){return s}});const i=10,a="asc",r="desc",s="sort"},9044:function(e,t,n){n.d(t,{T:function(){return l}});var i=n(6006),a=n(7194),r=n(4477),s=n(8036),u=n(2741),o=n(6059);let l=(()=>{class e{constructor(e){this.sort=e,this.sortIcon=s.CmM,this.sortAscIcon=s.foy,this.sortDescIcon=s.u9C,this.destroy$=new i.xQ,e.predicateChange.pipe((0,a.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition()),e.ascendingChange.pipe((0,a.R)(this.destroy$)).subscribe(()=>this.updateIconDefinition())}onClick(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}ngAfterContentInit(){this.updateIconDefinition()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIconDefinition(){if(this.iconComponent){let e=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(e=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=e.iconName,this.iconComponent.render()}}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(o.b,1))},e.\u0275dir=u.lG2({type:e,selectors:[["","jhiSortBy",""]],contentQueries:function(e,t,n){if(1&e&&u.Suo(n,r.BN,5),2&e){let e;u.iGM(e=u.CRH())&&(t.iconComponent=e.first)}},hostBindings:function(e,t){1&e&&u.NdJ("click",function(){return t.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),e})()},6059:function(e,t,n){n.d(t,{b:function(){return a}});var i=n(2741);let a=(()=>{class e{constructor(){this.predicateChange=new i.vpe,this.ascendingChange=new i.vpe,this.sortChange=new i.vpe}get predicate(){return this._predicate}set predicate(e){this._predicate=e,this.predicateChange.emit(e)}get ascending(){return this._ascending}set ascending(e){this._ascending=e,this.ascendingChange.emit(e)}sort(e){this.ascending=e!==this.predicate||!this.ascending,this.predicate=e,this.predicateChange.emit(e),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=i.lG2({type:e,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),e})()}}]);