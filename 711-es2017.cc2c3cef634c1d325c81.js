"use strict";(self.webpackChunkcore=self.webpackChunkcore||[]).push([[711],{1711:function(t,e,n){n.r(e),n.d(e,{TrashModule:function(){return tt}});var a=n(8335),i=n(1499),s=n(1414),o=n(1382),r=n(6643),c=n(9375),u=n(4991),d=n(2734),l=n(6905),h=n(2741),p=n(7354),g=n(1887),m=n(8986);let U=(()=>{class t{constructor(t,e){this.http=t,this.applicationConfigService=e,this.streamResourceUrl=this.applicationConfigService.getEndpointFor("api/stream/data"),this.companyResourceUrl=this.applicationConfigService.getEndpointFor("api/company/data")}ListDeletedCompany(t){const e=(0,p.b)(t);return this.http.get(this.companyResourceUrl+"/trash",{params:e,observe:"response"})}ListDeletedStream(t){const e=(0,p.b)(t);return this.http.get(this.streamResourceUrl+"/trash",{params:e,observe:"response"})}deleteCompany(t){return this.http.delete(`${this.companyResourceUrl+"/erase"}/${t}`)}deleteStream(t){return this.http.delete(`${this.streamResourceUrl+"/erase"}/${t}`)}restoreCompany(t){return this.http.post(this.companyResourceUrl+"/trash/"+t,void 0)}restoreStream(t){return this.http.post(this.streamResourceUrl+"/trash/"+t,void 0)}}return t.\u0275fac=function(e){return new(e||t)(h.LFG(g.eN),h.LFG(m.y))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var _=n(8467),Z=n(7390),y=n(1633),A=n(4851),b=n(4477),f=n(4243),T=n(6662),q=n(1066),v=n(222),S=n(6059),x=n(9044),j=n(4150);function M(t,e){1&t&&(h.TgZ(0,"span",7),h._uU(1,"Companies"),h.qZA())}function C(t,e){1&t&&(h.TgZ(0,"th",20),h._uU(1,"\n              "),h.TgZ(2,"span",21),h._uU(3,"Created Date"),h.qZA(),h._uU(4," "),h._UZ(5,"fa-icon",13),h._uU(6,"\n            "),h.qZA())}function N(t,e){1&t&&(h.TgZ(0,"th",22),h._uU(1,"\n              "),h.TgZ(2,"span",21),h._uU(3,"Created Date"),h.qZA(),h._uU(4," "),h._UZ(5,"fa-icon",13),h._uU(6,"\n            "),h.qZA())}function H(t,e){1&t&&(h.TgZ(0,"th",23),h._uU(1,"\n              "),h.TgZ(2,"span",24),h._uU(3,"Last Modified By"),h.qZA(),h._uU(4," "),h._UZ(5,"fa-icon",13),h._uU(6,"\n            "),h.qZA())}function k(t,e){1&t&&(h.TgZ(0,"th",25),h._uU(1,"\n              "),h.TgZ(2,"span",24),h._uU(3,"Last Modified By"),h.qZA(),h._uU(4," "),h._UZ(5,"fa-icon",13),h._uU(6,"\n            "),h.qZA())}function I(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",31),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).restoreCompany(e)}),h._uU(1,"\n                "),h._UZ(2,"fa-icon",32),h._uU(3,"\n                "),h.TgZ(4,"span",33),h._uU(5,"Restore"),h.qZA(),h._uU(6,"\n              "),h.qZA()}}function J(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",34),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).deleteCompany(e)}),h._uU(1,"\n                  "),h._UZ(2,"fa-icon",35),h._uU(3,"\n                  "),h.TgZ(4,"span",36),h._uU(5,"Delete"),h.qZA(),h._uU(6,"\n                "),h.qZA()}}const L=function(){return["SUPER_USER"]};function w(t,e){if(1&t&&(h.TgZ(0,"tr"),h._uU(1,"\n        \n            "),h.TgZ(2,"td"),h._uU(3),h.qZA(),h._uU(4,"\n            "),h.TgZ(5,"td"),h._uU(6),h.qZA(),h._uU(7,"\n\n            "),h.TgZ(8,"td"),h._uU(9),h.ALo(10,"date"),h.qZA(),h._uU(11,"\n            "),h.TgZ(12,"td"),h._uU(13),h.qZA(),h._uU(14,"\n            "),h.TgZ(15,"td",27),h._uU(16,"\n              "),h.TgZ(17,"div",28),h._uU(18,"\n                "),h.YNc(19,I,7,0,"button",29),h._uU(20,"\n                "),h.YNc(21,J,7,0,"button",30),h._uU(22,"\n              "),h.qZA(),h._uU(23,"\n            "),h.qZA(),h._uU(24,"\n          "),h.qZA()),2&t){const t=e.$implicit;h.xp6(3),h.Oqu(t.name),h.xp6(3),h.Oqu(t.description),h.xp6(3),h.Oqu(h.xi3(10,6,t.createdDate,"dd/MM/yy HH:mm")),h.xp6(4),h.Oqu(t.lastModifiedBy),h.xp6(6),h.Q6J("jhiHasAnyAuthority",h.DdM(9,L)),h.xp6(2),h.Q6J("jhiHasAnyAuthority",h.DdM(10,L))}}function B(t,e){if(1&t&&(h.TgZ(0,"tbody"),h._uU(1,"\n          "),h.YNc(2,w,25,11,"tr",26),h._uU(3,"\n        "),h.qZA()),2&t){const t=h.oxw(2);h.xp6(2),h.Q6J("ngForOf",t.companys)("ngForTrackBy",t.trackIdentity)}}const D=function(){return["COMPANY_ADMIN","STREAM_ADMIN"]};function P(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",8),h._uU(1,"\n      "),h.TgZ(2,"table",9),h._uU(3,"\n        "),h.TgZ(4,"thead"),h._uU(5,"\n          "),h.TgZ(6,"tr",10),h.NdJ("predicateChange",function(e){return h.CHM(t),h.oxw().predicate=e})("ascendingChange",function(e){return h.CHM(t),h.oxw().ascending=e})("sortChange",function(){return h.CHM(t),h.oxw().transition()}),h._uU(7,"\n           "),h.TgZ(8,"th",11),h.TgZ(9,"span",12),h._uU(10,"Name"),h.qZA(),h._uU(11," "),h._UZ(12,"fa-icon",13),h.qZA(),h._uU(13,"\n           "),h.TgZ(14,"th",14),h.TgZ(15,"span",15),h._uU(16,"Description "),h.qZA(),h._uU(17," "),h.qZA(),h._uU(18,"\n          \n            \n            \n            "),h.YNc(19,C,7,0,"th",16),h._uU(20,"\n\n            "),h.YNc(21,N,7,0,"th",17),h._uU(22,"\n\n            "),h.YNc(23,H,7,0,"th",18),h._uU(24,"\n            "),h.YNc(25,k,7,0,"th",19),h._uU(26,"\n\n\n\n            "),h._UZ(27,"th",14),h._uU(28,"\n          "),h.qZA(),h._uU(29,"\n        "),h.qZA(),h._uU(30,"\n        "),h.YNc(31,B,4,2,"tbody",6),h._uU(32,"\n      "),h.qZA(),h._uU(33,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(6),h.Q6J("predicate",t.predicate)("ascending",t.ascending),h.xp6(13),h.Q6J("jhiHasAnyAuthority",h.DdM(7,L)),h.xp6(2),h.Q6J("jhiHasAnyAuthority",h.DdM(8,D)),h.xp6(2),h.Q6J("jhiHasAnyAuthority",h.DdM(9,L)),h.xp6(2),h.Q6J("jhiHasAnyAuthority",h.DdM(10,D)),h.xp6(6),h.Q6J("ngIf",t.companys)}}const Y=function(t,e,n){return{page:t,totalItems:e,itemsPerPage:n}};function Q(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div"),h._uU(1,"\n      "),h.TgZ(2,"div",37),h._uU(3,"\n        "),h._UZ(4,"jhi-item-count",38),h._uU(5,"\n      "),h.qZA(),h._uU(6,"\n  \n      "),h.TgZ(7,"div",37),h._uU(8,"\n        "),h.TgZ(9,"ngb-pagination",39),h.NdJ("pageChange",function(e){return h.CHM(t),h.oxw().page=e})("pageChange",function(){return h.CHM(t),h.oxw().transition()}),h.qZA(),h._uU(10,"\n      "),h.qZA(),h._uU(11,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(4),h.Q6J("params",h.kEZ(7,Y,t.page,t.totalItems,t.itemsPerPage)),h.xp6(5),h.Q6J("collectionSize",t.totalItems)("page",t.page)("pageSize",t.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}let R=(()=>{class t{constructor(t,e,n,a,i,s){this.trashService=t,this.accountService=e,this.activatedRoute=n,this.router=a,this.modalService=i,this.translate=s,this.companys=null,this.currentAccount=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=u.gK}ngOnInit(){this.accountService.identity().subscribe(t=>this.currentAccount=t),this.handleNavigation()}transition(){this.router.navigate(["/trash/company"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:`${this.predicate},${this.ascending?u.aW:u.jo}`}})}deleteCompany(t){const e=this.modalService.open(d.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.deleteCompany"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.deleteCompany",{name:t.name}),e.closed.subscribe(e=>{"true"===e&&this.trashService.deleteCompany(t.id?t.id:0).subscribe(()=>this.loadAll())})}restoreCompany(t){const e=this.modalService.open(d.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.restoreCompany"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.restoreCompany",{name:t.name}),e.closed.subscribe(e=>{"true"===e&&this.trashService.restoreCompany(t.id?t.id:0).subscribe(()=>this.loadAll())})}loadAll(){this.isLoading=!0,this.trashService.ListDeletedCompany({page:this.page-1,size:this.itemsPerPage,sort:this.sort()}).subscribe(t=>{this.isLoading=!1,this.onSuccess(t.body,t.headers)},()=>this.isLoading=!1)}handleNavigation(){(0,l.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,e])=>{var n;const a=e.get("page");this.page=+(null!=a?a:1);const i=(null!==(n=e.get(u._l))&&void 0!==n?n:t.defaultSort).split(",");this.predicate=i[0],this.ascending=i[1]===u.aW,this.loadAll()})}sort(){const t=[`${this.predicate},${this.ascending?u.aW:u.jo}`];return"id"!==this.predicate&&t.push("id"),t}trackIdentity(t,e){return e.id}onSuccess(t,e){this.totalItems=Number(e.get("X-Total-Count")),this.companys=t}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(U),h.Y36(_.B),h.Y36(a.gz),h.Y36(a.F0),h.Y36(Z.FF),h.Y36(y.sK))},t.\u0275cmp=h.Xpm({type:t,selectors:[["jhi-trash-company-component"]],decls:27,vars:6,consts:[["class","mdi mdi-factory","id","company-management-page-heading","jhiTranslate","companyManagement.home.trash-company-title","data-cy","companyManagementPageHeading",4,"jhiHasAnyAuthority"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","companyManagement.home.refreshListLabel"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["id","company-management-page-heading","jhiTranslate","companyManagement.home.trash-company-title","data-cy","companyManagementPageHeading",1,"mdi","mdi-factory"],[1,"table-responsive"],["aria-describedby","company-management-page-heading",1,"table","table-hover","table-striped"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","name"],["jhiTranslate","companyManagement.name"],["icon","sort"],["scope","col"],["jhiTranslate","companyManagement.description"],["scope","col","jhiSortBy","createdDate",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","created_date",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","lastModifiedBy",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","last_modified_by",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","companyManagement.createdDate"],["scope","col","jhiSortBy","created_date"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","companyManagement.lastModifiedBy"],["scope","col","jhiSortBy","last_modified_by"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right"],[1,"btn-group"],["type","button","class","btn btn-success btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["icon","trash-restore"],["jhiTranslate","entity.action.restore",1,"d-none","d-md-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"],[1,"row","justify-content-center"],[3,"params"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"]],template:function(t,e){1&t&&(h.TgZ(0,"div"),h._uU(1,"\n    "),h.TgZ(2,"h2"),h._uU(3,"\n      "),h.YNc(4,M,2,0,"span",0),h._uU(5,"\n      "),h.TgZ(6,"div",1),h._uU(7,"\n        "),h.TgZ(8,"button",2),h.NdJ("click",function(){return e.loadAll()}),h._uU(9,"\n          "),h._UZ(10,"fa-icon",3),h._uU(11,"\n          "),h.TgZ(12,"span",4),h._uU(13,"Refresh List"),h.qZA(),h._uU(14,"\n        "),h.qZA(),h._uU(15,"\n      "),h.qZA(),h._uU(16,"\n    "),h.qZA(),h._uU(17,"\n  \n    "),h._UZ(18,"jhi-alert-error"),h._uU(19,"\n  \n    "),h._UZ(20,"jhi-alert"),h._uU(21,"\n  \n    "),h.YNc(22,P,34,11,"div",5),h._uU(23,"\n  \n    "),h.YNc(24,Q,12,11,"div",6),h._uU(25,"\n  "),h.qZA(),h._uU(26,"\n  ")),2&t&&(h.xp6(4),h.Q6J("jhiHasAnyAuthority",h.DdM(5,L)),h.xp6(4),h.Q6J("disabled",e.isLoading),h.xp6(2),h.Q6J("spin",e.isLoading),h.xp6(12),h.Q6J("ngIf",e.companys),h.xp6(2),h.Q6J("ngIf",e.companys))},directives:[A.o,b.BN,f.P,T.A,q.w,v.O5,S.b,x.T,v.sg,j.N,Z.N9],pipes:[v.uU],styles:[""]}),t})();function F(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",29),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).restoreStream(e)}),h._uU(1,"\n                    "),h._UZ(2,"fa-icon",30),h._uU(3,"\n                    "),h.TgZ(4,"span",31),h._uU(5,"Restore"),h.qZA(),h._uU(6,"\n                  "),h.qZA()}}function z(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"button",32),h.NdJ("click",function(){h.CHM(t);const e=h.oxw().$implicit;return h.oxw(3).deleteStream(e)}),h._uU(1,"\n                      "),h._UZ(2,"fa-icon",33),h._uU(3,"\n                      "),h.TgZ(4,"span",34),h._uU(5,"Delete"),h.qZA(),h._uU(6,"\n                    "),h.qZA()}}const O=function(){return["SUPER_USER"]};function $(t,e){if(1&t&&(h.TgZ(0,"tr"),h._uU(1,"\n            "),h.TgZ(2,"td"),h._uU(3,"\n                "),h.TgZ(4,"a"),h._uU(5),h.qZA(),h._uU(6,"\n              "),h.qZA(),h._uU(7,"\n              "),h.TgZ(8,"td"),h._uU(9,"\n                "),h.TgZ(10,"a"),h._uU(11),h.qZA(),h._uU(12,"\n              "),h.qZA(),h._uU(13,"\n            "),h.TgZ(14,"td"),h._uU(15),h.ALo(16,"slice"),h.qZA(),h._uU(17,"\n            "),h.TgZ(18,"td"),h._uU(19,"\n              "),h.TgZ(20,"a"),h._uU(21),h.qZA(),h._uU(22,"\n            "),h.qZA(),h._uU(23,"\n   \n            "),h.TgZ(24,"td"),h._uU(25),h.ALo(26,"date"),h.qZA(),h._uU(27,"\n            "),h.TgZ(28,"td"),h._uU(29),h.qZA(),h._uU(30,"\n            "),h.TgZ(31,"td"),h._uU(32),h.ALo(33,"date"),h.qZA(),h._uU(34,"\n            "),h.TgZ(35,"td",25),h._uU(36,"\n                "),h.TgZ(37,"div",26),h._uU(38,"\n                    "),h.YNc(39,F,7,0,"button",27),h._uU(40,"\n                    "),h.YNc(41,z,7,0,"button",28),h._uU(42,"\n                  "),h.qZA(),h._uU(43,"\n            "),h.qZA(),h._uU(44,"\n          "),h.qZA()),2&t){const t=e.$implicit;h.xp6(5),h.Oqu(t.idStream),h.xp6(6),h.Oqu(t.companyName),h.xp6(4),h.hij("   ",null==t.query?"":t.query.length>100?h.Dn7(16,9,t.query,0,90)+"..":t.query,""),h.xp6(6),h.Oqu(null==t.maxRowCount?"Sin L\xedmite":t.maxRowCount),h.xp6(4),h.Oqu(h.xi3(26,13,t.createdDate,"dd/MM/yy HH:mm")),h.xp6(4),h.Oqu(t.lastModifiedBy),h.xp6(3),h.Oqu(h.xi3(33,16,t.lastModifiedDate,"dd/MM/yy HH:mm")),h.xp6(7),h.Q6J("jhiHasAnyAuthority",h.DdM(19,O)),h.xp6(2),h.Q6J("jhiHasAnyAuthority",h.DdM(20,O))}}function E(t,e){if(1&t&&(h.TgZ(0,"tbody"),h._uU(1,"\n          "),h.YNc(2,$,45,21,"tr",24),h._uU(3,"\n        "),h.qZA()),2&t){const t=h.oxw(2);h.xp6(2),h.Q6J("ngForOf",t.streams)("ngForTrackBy",t.trackIdentity)}}function W(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div",7),h._uU(1,"\n      "),h.TgZ(2,"table",8),h._uU(3,"\n        "),h.TgZ(4,"thead"),h._uU(5,"\n          "),h.TgZ(6,"tr",9),h.NdJ("predicateChange",function(e){return h.CHM(t),h.oxw().predicate=e})("ascendingChange",function(e){return h.CHM(t),h.oxw().ascending=e})("sortChange",function(){return h.CHM(t),h.oxw().transition()}),h._uU(7,"\n            "),h.TgZ(8,"th",10),h.TgZ(9,"span",11),h._uU(10,"ID"),h.qZA(),h._uU(11," "),h._UZ(12,"fa-icon",12),h.qZA(),h._uU(13,"\n            "),h.TgZ(14,"th",13),h.TgZ(15,"span",14),h._uU(16,"Company"),h.qZA(),h._uU(17," "),h._UZ(18,"fa-icon",12),h._uU(19," "),h.qZA(),h._uU(20,"\n            "),h.TgZ(21,"th",15),h.TgZ(22,"span",16),h._uU(23,"Query"),h.qZA(),h._uU(24," "),h.qZA(),h._uU(25,"\n            "),h.TgZ(26,"th",15),h.TgZ(27,"span",17),h._uU(28,"Max Result"),h.qZA(),h._uU(29," "),h.qZA(),h._uU(30,"\n          \n            \n            "),h.TgZ(31,"th",18),h._uU(32,"\n              "),h.TgZ(33,"span",19),h._uU(34,"Created Date"),h.qZA(),h._uU(35," "),h._UZ(36,"fa-icon",12),h._uU(37,"\n            "),h.qZA(),h._uU(38,"\n            "),h.TgZ(39,"th",20),h._uU(40,"\n              "),h.TgZ(41,"span",21),h._uU(42,"Last Modified By"),h.qZA(),h._uU(43," "),h._UZ(44,"fa-icon",12),h._uU(45,"\n            "),h.qZA(),h._uU(46,"\n            "),h.TgZ(47,"th",22),h._uU(48,"\n              "),h.TgZ(49,"span",23),h._uU(50,"Last Modified Date"),h.qZA(),h._uU(51," "),h._UZ(52,"fa-icon",12),h._uU(53,"\n            "),h.qZA(),h._uU(54,"\n            "),h._UZ(55,"th",15),h._uU(56,"\n          "),h.qZA(),h._uU(57,"\n        "),h.qZA(),h._uU(58,"\n        "),h.YNc(59,E,4,2,"tbody",6),h._uU(60,"\n      "),h.qZA(),h._uU(61,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(6),h.Q6J("predicate",t.predicate)("ascending",t.ascending),h.xp6(53),h.Q6J("ngIf",t.streams)}}const K=function(t,e,n){return{page:t,totalItems:e,itemsPerPage:n}};function X(t,e){if(1&t){const t=h.EpF();h.TgZ(0,"div"),h._uU(1,"\n      "),h.TgZ(2,"div",35),h._uU(3,"\n        "),h._UZ(4,"jhi-item-count",36),h._uU(5,"\n      "),h.qZA(),h._uU(6,"\n  \n      "),h.TgZ(7,"div",35),h._uU(8,"\n        "),h.TgZ(9,"ngb-pagination",37),h.NdJ("pageChange",function(e){return h.CHM(t),h.oxw().page=e})("pageChange",function(){return h.CHM(t),h.oxw().transition()}),h.qZA(),h._uU(10,"\n      "),h.qZA(),h._uU(11,"\n    "),h.qZA()}if(2&t){const t=h.oxw();h.xp6(4),h.Q6J("params",h.kEZ(7,K,t.page,t.totalItems,t.itemsPerPage)),h.xp6(5),h.Q6J("collectionSize",t.totalItems)("page",t.page)("pageSize",t.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}const G=[{path:"",children:[{path:"stream",component:(()=>{class t{constructor(t,e,n,a,i,s){this.trashService=t,this.accountService=e,this.activatedRoute=n,this.router=a,this.modalService=i,this.translate=s,this.currentAccount=null,this.streams=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=u.gK,this.admnistrando=!1,this.idCompany=0}ngOnInit(){this.activatedRoute.params.subscribe(t=>{t.company?(this.admnistrando=!0,this.idCompany=t.company):this.admnistrando=!1}),this.accountService.identity().subscribe(t=>this.currentAccount=t),this.handleNavigation()}trackIdentity(t,e){return e.id}deleteStream(t){const e=this.modalService.open(d.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.deleteStream"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.deleteStream",{id:t.idStream,name:t.name}),e.closed.subscribe(e=>{"true"===e&&this.trashService.deleteStream(t.id?t.id:0).subscribe(()=>this.loadAll())})}restoreStream(t){const e=this.modalService.open(d.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.restoreStream"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.restoreStream",{id:t.idStream,name:t.name}),e.closed.subscribe(e=>{"true"===e&&this.trashService.restoreStream(t.id?t.id:0).subscribe(()=>this.loadAll())})}loadAll(){this.isLoading=!0,this.trashService.ListDeletedStream({page:this.page-1,size:this.itemsPerPage,sort:this.sort(),idCompany:this.idCompany}).subscribe(t=>{this.isLoading=!1,this.onSuccess(t.body,t.headers)},()=>this.isLoading=!1)}transition(){this.router.navigate(["/trash/stream"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:`${this.predicate},${this.ascending?u.aW:u.jo}`}})}handleNavigation(){(0,l.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,e])=>{var n;const a=e.get("page");this.page=+(null!=a?a:1);const i=(null!==(n=e.get(u._l))&&void 0!==n?n:t.defaultSort).split(",");this.predicate=i[0],this.ascending=i[1]===u.aW,this.loadAll()})}sort(){const t=[`${this.predicate},${this.ascending?u.aW:u.jo}`];return"id"!==this.predicate&&t.push("id"),t}onSuccess(t,e){this.totalItems=Number(e.get("X-Total-Count")),this.streams=t}}return t.\u0275fac=function(e){return new(e||t)(h.Y36(U),h.Y36(_.B),h.Y36(a.gz),h.Y36(a.F0),h.Y36(Z.FF),h.Y36(y.sK))},t.\u0275cmp=h.Xpm({type:t,selectors:[["jhi-trash-stream-component"]],decls:28,vars:4,consts:[["id","stream-management-page-heading","jhiTranslate","streamManagement.home.trash-stream-title","data-cy","streamManagementPageHeading",1,"mdi","mdi-nfc"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","streamManagement.home.refreshListLabel"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"table-responsive"],["aria-describedby","stream-management-page-heading",1,"table","table-hover","table-striped"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","idStream"],["jhiTranslate","global.field.id"],["icon","sort"],["scope","col","jhiSortBy","company"],["jhiTranslate","streamManagement.table.company"],["scope","col"],["jhiTranslate","streamManagement.table.query"],["jhiTranslate","streamManagement.table.maxValue"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","streamManagement.createdDate"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","streamManagement.lastModifiedBy"],["scope","col","jhiSortBy","lastModifiedDate"],["jhiTranslate","streamManagement.lastModifiedDate"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right"],[1,"btn-group"],["type","button","class","btn btn-success btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["icon","trash-restore"],["jhiTranslate","entity.action.restore",1,"d-none","d-md-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"],[1,"row","justify-content-center"],[3,"params"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"]],template:function(t,e){1&t&&(h.TgZ(0,"div"),h._uU(1,"\n    "),h.TgZ(2,"h2"),h._uU(3,"\n      "),h.TgZ(4,"span",0),h._uU(5,"Companies"),h.qZA(),h._uU(6,"\n  \n      "),h.TgZ(7,"div",1),h._uU(8,"\n        "),h.TgZ(9,"button",2),h.NdJ("click",function(){return e.loadAll()}),h._uU(10,"\n          "),h._UZ(11,"fa-icon",3),h._uU(12,"\n          "),h.TgZ(13,"span",4),h._uU(14,"Refresh List"),h.qZA(),h._uU(15,"\n        "),h.qZA(),h._uU(16,"\n \n      "),h.qZA(),h._uU(17,"\n    "),h.qZA(),h._uU(18,"\n  \n    "),h._UZ(19,"jhi-alert-error"),h._uU(20,"\n  \n    "),h._UZ(21,"jhi-alert"),h._uU(22,"\n  \n    "),h.YNc(23,W,62,3,"div",5),h._uU(24,"\n  \n    "),h.YNc(25,X,12,11,"div",6),h._uU(26,"\n  "),h.qZA(),h._uU(27,"\n  ")),2&t&&(h.xp6(9),h.Q6J("disabled",e.isLoading),h.xp6(2),h.Q6J("spin",e.isLoading),h.xp6(12),h.Q6J("ngIf",e.streams),h.xp6(2),h.Q6J("ngIf",e.streams))},directives:[f.P,b.BN,T.A,q.w,v.O5,S.b,x.T,v.sg,A.o,j.N,Z.N9],pipes:[v.OU,v.uU],styles:[""]}),t})(),data:{pageTitle:"global.menu.trash.management",defaultSort:"id,asc"}},{path:"company",component:R,canActivate:[c.Z],data:{pageTitle:"global.menu.trash.management",defaultSort:"id,asc"}}]}];var V=n(6392);let tt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[[o.m,a.Bz.forChild(G),i.A0,r.ZQ,s.Nh,V.UserManagementModule,V.UserManagementModule]]}),t})()}}]);