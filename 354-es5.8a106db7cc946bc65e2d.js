!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(self.webpackChunkcore=self.webpackChunkcore||[]).push([[354],{1368:function(n,a,i){i.r(a),i.d(a,{ConfigurationModule:function(){return F}});var r=i(8335),u=i(1382),o=i(3324),s=i(1322),c=i(2741),l=i(6539),h=i(8467),m=i(6912),d=i(1633),g=i(4243),f=i(6662),b=i(1066),v=i(222),p=i(4477),T=function(){return{max:255}};function U(e,t){1&e&&(c.TgZ(0,"small",15),c._uU(1,"\n                This field cannot be longer than 255 characters.\n              "),c.qZA()),2&e&&c.Q6J("translateValues",c.DdM(1,T))}function _(e,t){if(1&e&&(c.TgZ(0,"div"),c._uU(1,"\n              "),c.YNc(2,U,2,2,"small",14),c._uU(3,"\n            "),c.qZA()),2&e){var n,a=c.oxw();c.xp6(2),c.Q6J("ngIf",null==(n=a.editForm.get("globalDashboard"))||null==n.errors?null:n.errors.maxlength)}}function Z(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",16),c.NdJ("click",function(){return c.CHM(n),c.oxw().setActive(!0)}),c._uU(1,"\n          Deactivated\n            "),c.qZA()}}function x(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",17),c.NdJ("click",function(){return c.CHM(n),c.oxw().setActive(!1)}),c._uU(1,"\n            "),c._uU(2,"\n              Activated\n            "),c.qZA()}}function y(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div"),c._uU(1,"\n\n        "),c.TgZ(2,"div",4),c._uU(3,"\n          "),c.TgZ(4,"label",18),c._uU(5,"scheduletime"),c.qZA(),c._uU(6,"\n          "),c.TgZ(7,"input",19),c.NdJ("keypress",function(e){return c.CHM(n),c.oxw().checkNumberValue(e)})("focusout",function(e){return c.CHM(n),c.oxw().checkNumberValueblur(e)}),c.qZA(),c._uU(8," \n\n    \n        "),c.qZA(),c._uU(9,"\n\n        "),c.TgZ(10,"div",4),c._uU(11,"\n          "),c.TgZ(12,"label",20),c._uU(13,"scheduletime"),c.qZA(),c._uU(14,"\n          "),c.TgZ(15,"input",21),c.NdJ("keypress",function(e){return c.CHM(n),c.oxw().checkNumberValue2(e)})("focusout",function(e){return c.CHM(n),c.oxw().checkNumberValue2blur(e)}),c.qZA(),c._uU(16," \n\n    \n        "),c.qZA(),c._uU(17,"\n\n      "),c.qZA()}}var k,S={path:"config-update",component:(k=function(){function n(t,a,i,r,u,s){e(this,n),this.service=t,this.fb=a,this.accountService=i,this.router=r,this.alertService=u,this.translate=s,this.status=!1,this.requiredCompany=!1,this.blockSome=!1,this.authorities=[],this.isSaving=!1,this.companies=[],this.errorNameExists=!1,this.editForm=this.fb.group({globalDashboard:["",[o.kI.required,o.kI.maxLength(255)]],nextTimeToSearch:[],scheduletime:[]})}var a,i,r;return a=n,(i=[{key:"ngOnInit",value:function(){var e=this;this.accountService.hasAnyAuthority(s.W.SUPER_USER)?this.service.getAll().subscribe(function(t){for(var n=0;n<t.length;n++)"config.global.index"==t[n].key&&e.editForm.patchValue({globalDashboard:t[n].value}),"config.global.status"==t[n].key&&(e.status=!1,"true"==t[n].value&&(e.status=!0),"false"==t[n].value&&(e.status=!1)),"config.global.scheduletime"==t[n].key&&e.editForm.patchValue({scheduletime:t[n].value}),"config.global.nextTimeToSearch"==t[n].key&&e.editForm.patchValue({nextTimeToSearch:t[n].value})}):this.router.navigate(["/"])}},{key:"save",value:function(){var e=this;this.service.create(this.updateObject(this.data)).subscribe(function(){return e.onSaveSuccess()},function(t){return e.onSaveError(t)})}},{key:"onSaveSuccess",value:function(){this.alertService.addAlert({type:"success",message:this.translate.instant("configManagement.update-success"),toast:!1}),this.isSaving=!1}},{key:"onSaveError",value:function(e){this.isSaving=!1}},{key:"noWhitespaceValidator",value:function(e){return!(0===(e&&e.value&&e.value.toString()||"").trim().length)}},{key:"updateObject",value:function(e){return{dashboardG:this.editForm.get(["globalDashboard"]).value.trim(),status:this.status,scheduletime:this.editForm.get(["scheduletime"]).value,nextTimeToSearch:this.editForm.get(["nextTimeToSearch"]).value}}},{key:"checkNumberValue",value:function(e){var t;return this.editForm.get(["scheduletime"]).value>999999&&this.editForm.patchValue({scheduletime:999999}),(t=e.charCode)>=48&&t<=57}},{key:"checkNumberValue2",value:function(e){var t;return this.editForm.get(["nextTimeToSearch"]).value>999999&&this.editForm.patchValue({nextTimeToSearch:999999}),(t=e.charCode)>=48&&t<=57}},{key:"checkNumberValue2blur",value:function(e){this.editForm.get(["nextTimeToSearch"]).value>999999&&this.editForm.patchValue({nextTimeToSearch:999999}),this.editForm.get(["nextTimeToSearch"]).value<60&&this.editForm.patchValue({nextTimeToSearch:60})}},{key:"checkNumberValueblur",value:function(e){this.editForm.get(["scheduletime"]).value>999999&&this.editForm.patchValue({scheduletime:999999}),this.editForm.get(["scheduletime"]).value<60&&this.editForm.patchValue({scheduletime:60})}},{key:"setActive",value:function(e){e&&(this.editForm.patchValue({scheduletime:60}),this.editForm.patchValue({nextTimeToSearch:60})),this.status=e}}])&&t(a.prototype,i),r&&t(a,r),n}(),k.\u0275fac=function(e){return new(e||k)(c.Y36(l.I),c.Y36(o.qu),c.Y36(h.B),c.Y36(r.F0),c.Y36(m.c),c.Y36(d.sK))},k.\u0275cmp=c.Xpm({type:k,selectors:[["jhi-config-update"]],decls:48,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","configManagement.add-update.update",1,"mdi","mdi-memory"],[1,"form-group",2,"margin-top","30px"],["jhiTranslate","configManagement.add-update.dashboardURL",1,"form-control-label"],["type","text","name","globalDashboard","formControlName","globalDashboard",1,"form-control"],[4,"ngIf"],["jhiTranslate","configManagement.add-update.status",1,"form-control-label"],["class","btn btn-danger btn-sm","jhiTranslate","streamManagement.deactivated",3,"click",4,"ngIf"],["class","btn btn-success btn-sm","jhiTranslate","streamManagement.active",3,"click",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.update"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["jhiTranslate","streamManagement.deactivated",1,"btn","btn-danger","btn-sm",3,"click"],["jhiTranslate","streamManagement.active",1,"btn","btn-success","btn-sm",3,"click"],["jhiTranslate","configManagement.add-update.scheduletime",1,"form-control-label"],["type","text","name","scheduletime","formControlName","scheduletime",1,"form-control",3,"keypress","focusout"],["jhiTranslate","configManagement.add-update.nextTimeToSearch",1,"form-control-label"],["type","text","name","nextTimeToSearch","formControlName","nextTimeToSearch",1,"form-control",3,"keypress","focusout"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c._uU(1,"\n    "),c.TgZ(2,"div",1),c._uU(3,"\n      "),c.TgZ(4,"form",2),c.NdJ("ngSubmit",function(){return t.save()}),c._uU(5,"\n        "),c.TgZ(6,"h2",3),c._uU(7,"Update Config"),c.qZA(),c._uU(8,"\n        "),c._UZ(9,"jhi-alert-error"),c._uU(10,"\n        "),c._UZ(11,"jhi-alert"),c._uU(12,"\n         \n          "),c.TgZ(13,"div",4),c._uU(14,"\n            "),c.TgZ(15,"label",5),c._uU(16,"globalDashboard"),c.qZA(),c._uU(17,"\n            "),c._UZ(18,"input",6),c._uU(19," \n  \n            "),c.YNc(20,_,4,1,"div",7),c._uU(21,"\n          "),c.qZA(),c._uU(22,"\n\n          "),c.TgZ(23,"div",4),c._uU(24,"\n            "),c.TgZ(25,"label",8),c._uU(26,"job status"),c.qZA(),c._uU(27,"\n            "),c.TgZ(28,"div"),c._uU(29,"\n                  "),c.YNc(30,Z,2,0,"button",9),c._uU(31,"\n            "),c.YNc(32,x,3,0,"button",10),c._uU(33,"\n          "),c.qZA(),c._uU(34,"\n      "),c.qZA(),c._uU(35,"\n\n      "),c.YNc(36,y,18,0,"div",7),c._uU(37,"\n\n\n          "),c.TgZ(38,"button",11),c._uU(39,"\n            "),c._UZ(40,"fa-icon",12),c._uU(41,"\xa0"),c.TgZ(42,"span",13),c._uU(43,"Update"),c.qZA(),c._uU(44,"\n          "),c.qZA(),c._uU(45,"\n      "),c.qZA(),c._uU(46,"\n    "),c.qZA(),c._uU(47,"\n  "),c.qZA()),2&e&&(c.xp6(4),c.Q6J("formGroup",t.editForm),c.xp6(16),c.Q6J("ngIf",t.editForm.get("globalDashboard").invalid&&(t.editForm.get("globalDashboard").dirty||t.editForm.get("globalDashboard").touched)),c.xp6(10),c.Q6J("ngIf",!t.status),c.xp6(2),c.Q6J("ngIf",t.status),c.xp6(4),c.Q6J("ngIf",t.status),c.xp6(2),c.Q6J("disabled",t.editForm.invalid||t.isSaving))},directives:[o._Y,o.JL,o.sg,g.P,f.A,b.w,o.Fj,o.JJ,o.u,v.O5,p.BN],styles:[""]}),k),data:{pageTitle:"configuration.title"}},F=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[u.m,r.Bz.forChild([S])]]}),t}()}}])}();