!function(){"use strict";function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var a,i,r=[],o=!0,s=!1;try{for(e=e.call(t);!(o=(a=e.next()).done)&&(r.push(a.value),!n||r.length!==n);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==e.return||e.return()}finally{if(s)throw i}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function e(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var e=0;e<n.length;e++){var a=n[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function i(t,n,e){return n&&a(t.prototype,n),e&&a(t,e),t}(self.webpackChunkcore=self.webpackChunkcore||[]).push([[711],{1711:function(n,a,r){r.r(a),r.d(a,{TrashModule:function(){return it}});var o,s=r(8335),u=r(1499),c=r(1414),l=r(1382),d=r(6643),p=r(9375),g=r(4991),h=r(2734),m=r(6905),y=r(2741),U=r(7354),f=r(1887),_=r(8986),Z=((o=function(){function t(n,a){e(this,t),this.http=n,this.applicationConfigService=a,this.streamResourceUrl=this.applicationConfigService.getEndpointFor("api/stream/data"),this.companyResourceUrl=this.applicationConfigService.getEndpointFor("api/company/data")}return i(t,[{key:"ListDeletedCompany",value:function(t){var n=(0,U.b)(t);return this.http.get(this.companyResourceUrl+"/trash",{params:n,observe:"response"})}},{key:"ListDeletedStream",value:function(t){var n=(0,U.b)(t);return this.http.get(this.streamResourceUrl+"/trash",{params:n,observe:"response"})}},{key:"deleteCompany",value:function(t){return this.http.delete("".concat(this.companyResourceUrl+"/erase","/").concat(t))}},{key:"deleteStream",value:function(t){return this.http.delete("".concat(this.streamResourceUrl+"/erase","/").concat(t))}},{key:"restoreCompany",value:function(t){return this.http.post(this.companyResourceUrl+"/trash/"+t,void 0)}},{key:"restoreStream",value:function(t){return this.http.post(this.streamResourceUrl+"/trash/"+t,void 0)}}]),t}()).\u0275fac=function(t){return new(t||o)(y.LFG(f.eN),y.LFG(_.y))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),v=r(8467),b=r(7390),A=r(1633),T=r(4851),q=r(4477),S=r(4243),j=r(6662),x=r(1066),M=r(222),C=r(6059),k=r(9044),N=r(4150);function w(t,n){1&t&&(y.TgZ(0,"span",7),y._uU(1,"Companies"),y.qZA())}function H(t,n){1&t&&(y.TgZ(0,"th",20),y._uU(1,"\n              "),y.TgZ(2,"span",21),y._uU(3,"Created Date"),y.qZA(),y._uU(4," "),y._UZ(5,"fa-icon",13),y._uU(6,"\n            "),y.qZA())}function I(t,n){1&t&&(y.TgZ(0,"th",22),y._uU(1,"\n              "),y.TgZ(2,"span",21),y._uU(3,"Created Date"),y.qZA(),y._uU(4," "),y._UZ(5,"fa-icon",13),y._uU(6,"\n            "),y.qZA())}function J(t,n){1&t&&(y.TgZ(0,"th",23),y._uU(1,"\n              "),y.TgZ(2,"span",24),y._uU(3,"Last Modified By"),y.qZA(),y._uU(4," "),y._UZ(5,"fa-icon",13),y._uU(6,"\n            "),y.qZA())}function L(t,n){1&t&&(y.TgZ(0,"th",25),y._uU(1,"\n              "),y.TgZ(2,"span",24),y._uU(3,"Last Modified By"),y.qZA(),y._uU(4," "),y._UZ(5,"fa-icon",13),y._uU(6,"\n            "),y.qZA())}function B(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"button",31),y.NdJ("click",function(){y.CHM(e);var t=y.oxw().$implicit;return y.oxw(3).restoreCompany(t)}),y._uU(1,"\n                "),y._UZ(2,"fa-icon",32),y._uU(3,"\n                "),y.TgZ(4,"span",33),y._uU(5,"Restore"),y.qZA(),y._uU(6,"\n              "),y.qZA()}}function D(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"button",34),y.NdJ("click",function(){y.CHM(e);var t=y.oxw().$implicit;return y.oxw(3).deleteCompany(t)}),y._uU(1,"\n                  "),y._UZ(2,"fa-icon",35),y._uU(3,"\n                  "),y.TgZ(4,"span",36),y._uU(5,"Delete"),y.qZA(),y._uU(6,"\n                "),y.qZA()}}var P=function(){return["SUPER_USER"]};function Y(t,n){if(1&t&&(y.TgZ(0,"tr"),y._uU(1,"\n        \n            "),y.TgZ(2,"td"),y._uU(3),y.qZA(),y._uU(4,"\n            "),y.TgZ(5,"td"),y._uU(6),y.qZA(),y._uU(7,"\n\n            "),y.TgZ(8,"td"),y._uU(9),y.ALo(10,"date"),y.qZA(),y._uU(11,"\n            "),y.TgZ(12,"td"),y._uU(13),y.qZA(),y._uU(14,"\n            "),y.TgZ(15,"td",27),y._uU(16,"\n              "),y.TgZ(17,"div",28),y._uU(18,"\n                "),y.YNc(19,B,7,0,"button",29),y._uU(20,"\n                "),y.YNc(21,D,7,0,"button",30),y._uU(22,"\n              "),y.qZA(),y._uU(23,"\n            "),y.qZA(),y._uU(24,"\n          "),y.qZA()),2&t){var e=n.$implicit;y.xp6(3),y.Oqu(e.name),y.xp6(3),y.Oqu(e.description),y.xp6(3),y.Oqu(y.xi3(10,6,e.createdDate,"dd/MM/yy HH:mm")),y.xp6(4),y.Oqu(e.lastModifiedBy),y.xp6(6),y.Q6J("jhiHasAnyAuthority",y.DdM(9,P)),y.xp6(2),y.Q6J("jhiHasAnyAuthority",y.DdM(10,P))}}function Q(t,n){if(1&t&&(y.TgZ(0,"tbody"),y._uU(1,"\n          "),y.YNc(2,Y,25,11,"tr",26),y._uU(3,"\n        "),y.qZA()),2&t){var e=y.oxw(2);y.xp6(2),y.Q6J("ngForOf",e.companys)("ngForTrackBy",e.trackIdentity)}}var R=function(){return["COMPANY_ADMIN","STREAM_ADMIN"]};function F(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"div",8),y._uU(1,"\n      "),y.TgZ(2,"table",9),y._uU(3,"\n        "),y.TgZ(4,"thead"),y._uU(5,"\n          "),y.TgZ(6,"tr",10),y.NdJ("predicateChange",function(t){return y.CHM(e),y.oxw().predicate=t})("ascendingChange",function(t){return y.CHM(e),y.oxw().ascending=t})("sortChange",function(){return y.CHM(e),y.oxw().transition()}),y._uU(7,"\n           "),y.TgZ(8,"th",11),y.TgZ(9,"span",12),y._uU(10,"Name"),y.qZA(),y._uU(11," "),y._UZ(12,"fa-icon",13),y.qZA(),y._uU(13,"\n           "),y.TgZ(14,"th",14),y.TgZ(15,"span",15),y._uU(16,"Description "),y.qZA(),y._uU(17," "),y.qZA(),y._uU(18,"\n          \n            \n            \n            "),y.YNc(19,H,7,0,"th",16),y._uU(20,"\n\n            "),y.YNc(21,I,7,0,"th",17),y._uU(22,"\n\n            "),y.YNc(23,J,7,0,"th",18),y._uU(24,"\n            "),y.YNc(25,L,7,0,"th",19),y._uU(26,"\n\n\n\n            "),y._UZ(27,"th",14),y._uU(28,"\n          "),y.qZA(),y._uU(29,"\n        "),y.qZA(),y._uU(30,"\n        "),y.YNc(31,Q,4,2,"tbody",6),y._uU(32,"\n      "),y.qZA(),y._uU(33,"\n    "),y.qZA()}if(2&t){var a=y.oxw();y.xp6(6),y.Q6J("predicate",a.predicate)("ascending",a.ascending),y.xp6(13),y.Q6J("jhiHasAnyAuthority",y.DdM(7,P)),y.xp6(2),y.Q6J("jhiHasAnyAuthority",y.DdM(8,R)),y.xp6(2),y.Q6J("jhiHasAnyAuthority",y.DdM(9,P)),y.xp6(2),y.Q6J("jhiHasAnyAuthority",y.DdM(10,R)),y.xp6(6),y.Q6J("ngIf",a.companys)}}var O=function(t,n,e){return{page:t,totalItems:n,itemsPerPage:e}};function z(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"div"),y._uU(1,"\n      "),y.TgZ(2,"div",37),y._uU(3,"\n        "),y._UZ(4,"jhi-item-count",38),y._uU(5,"\n      "),y.qZA(),y._uU(6,"\n  \n      "),y.TgZ(7,"div",37),y._uU(8,"\n        "),y.TgZ(9,"ngb-pagination",39),y.NdJ("pageChange",function(t){return y.CHM(e),y.oxw().page=t})("pageChange",function(){return y.CHM(e),y.oxw().transition()}),y.qZA(),y._uU(10,"\n      "),y.qZA(),y._uU(11,"\n    "),y.qZA()}if(2&t){var a=y.oxw();y.xp6(4),y.Q6J("params",y.kEZ(7,O,a.page,a.totalItems,a.itemsPerPage)),y.xp6(5),y.Q6J("collectionSize",a.totalItems)("page",a.page)("pageSize",a.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}var E=function(){var n=function(){function n(t,a,i,r,o,s){e(this,n),this.trashService=t,this.accountService=a,this.activatedRoute=i,this.router=r,this.modalService=o,this.translate=s,this.companys=null,this.currentAccount=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=g.gK}return i(n,[{key:"ngOnInit",value:function(){var t=this;this.accountService.identity().subscribe(function(n){return t.currentAccount=n}),this.handleNavigation()}},{key:"transition",value:function(){this.router.navigate(["/trash/company"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:"".concat(this.predicate,",").concat(this.ascending?g.aW:g.jo)}})}},{key:"deleteCompany",value:function(t){var n=this,e=this.modalService.open(h.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.deleteCompany"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.deleteCompany",{name:t.name}),e.closed.subscribe(function(e){"true"===e&&n.trashService.deleteCompany(t.id?t.id:0).subscribe(function(){return n.loadAll()})})}},{key:"restoreCompany",value:function(t){var n=this,e=this.modalService.open(h.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.restoreCompany"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.restoreCompany",{name:t.name}),e.closed.subscribe(function(e){"true"===e&&n.trashService.restoreCompany(t.id?t.id:0).subscribe(function(){return n.loadAll()})})}},{key:"loadAll",value:function(){var t=this;this.isLoading=!0,this.trashService.ListDeletedCompany({page:this.page-1,size:this.itemsPerPage,sort:this.sort()}).subscribe(function(n){t.isLoading=!1,t.onSuccess(n.body,n.headers)},function(){return t.isLoading=!1})}},{key:"handleNavigation",value:function(){var n=this;(0,m.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(function(e){var a,i=t(e,2),r=i[0],o=i[1],s=o.get("page");n.page=+(null!=s?s:1);var u=(null!==(a=o.get(g._l))&&void 0!==a?a:r.defaultSort).split(",");n.predicate=u[0],n.ascending=u[1]===g.aW,n.loadAll()})}},{key:"sort",value:function(){var t=["".concat(this.predicate,",").concat(this.ascending?g.aW:g.jo)];return"id"!==this.predicate&&t.push("id"),t}},{key:"trackIdentity",value:function(t,n){return n.id}},{key:"onSuccess",value:function(t,n){this.totalItems=Number(n.get("X-Total-Count")),this.companys=t}}]),n}();return n.\u0275fac=function(t){return new(t||n)(y.Y36(Z),y.Y36(v.B),y.Y36(s.gz),y.Y36(s.F0),y.Y36(b.FF),y.Y36(A.sK))},n.\u0275cmp=y.Xpm({type:n,selectors:[["jhi-trash-company-component"]],decls:27,vars:6,consts:[["class","mdi mdi-factory","id","company-management-page-heading","jhiTranslate","companyManagement.home.trash-company-title","data-cy","companyManagementPageHeading",4,"jhiHasAnyAuthority"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","companyManagement.home.refreshListLabel"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["id","company-management-page-heading","jhiTranslate","companyManagement.home.trash-company-title","data-cy","companyManagementPageHeading",1,"mdi","mdi-factory"],[1,"table-responsive"],["aria-describedby","company-management-page-heading",1,"table","table-hover","table-striped"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","name"],["jhiTranslate","companyManagement.name"],["icon","sort"],["scope","col"],["jhiTranslate","companyManagement.description"],["scope","col","jhiSortBy","createdDate",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","created_date",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","lastModifiedBy",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","last_modified_by",4,"jhiHasAnyAuthority"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","companyManagement.createdDate"],["scope","col","jhiSortBy","created_date"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","companyManagement.lastModifiedBy"],["scope","col","jhiSortBy","last_modified_by"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right"],[1,"btn-group"],["type","button","class","btn btn-success btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["icon","trash-restore"],["jhiTranslate","entity.action.restore",1,"d-none","d-md-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"],[1,"row","justify-content-center"],[3,"params"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"]],template:function(t,n){1&t&&(y.TgZ(0,"div"),y._uU(1,"\n    "),y.TgZ(2,"h2"),y._uU(3,"\n      "),y.YNc(4,w,2,0,"span",0),y._uU(5,"\n      "),y.TgZ(6,"div",1),y._uU(7,"\n        "),y.TgZ(8,"button",2),y.NdJ("click",function(){return n.loadAll()}),y._uU(9,"\n          "),y._UZ(10,"fa-icon",3),y._uU(11,"\n          "),y.TgZ(12,"span",4),y._uU(13,"Refresh List"),y.qZA(),y._uU(14,"\n        "),y.qZA(),y._uU(15,"\n      "),y.qZA(),y._uU(16,"\n    "),y.qZA(),y._uU(17,"\n  \n    "),y._UZ(18,"jhi-alert-error"),y._uU(19,"\n  \n    "),y._UZ(20,"jhi-alert"),y._uU(21,"\n  \n    "),y.YNc(22,F,34,11,"div",5),y._uU(23,"\n  \n    "),y.YNc(24,z,12,11,"div",6),y._uU(25,"\n  "),y.qZA(),y._uU(26,"\n  ")),2&t&&(y.xp6(4),y.Q6J("jhiHasAnyAuthority",y.DdM(5,P)),y.xp6(4),y.Q6J("disabled",n.isLoading),y.xp6(2),y.Q6J("spin",n.isLoading),y.xp6(12),y.Q6J("ngIf",n.companys),y.xp6(2),y.Q6J("ngIf",n.companys))},directives:[T.o,q.BN,S.P,j.A,x.w,M.O5,C.b,k.T,M.sg,N.N,b.N9],pipes:[M.uU],styles:[""]}),n}();function $(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"button",29),y.NdJ("click",function(){y.CHM(e);var t=y.oxw().$implicit;return y.oxw(3).restoreStream(t)}),y._uU(1,"\n                    "),y._UZ(2,"fa-icon",30),y._uU(3,"\n                    "),y.TgZ(4,"span",31),y._uU(5,"Restore"),y.qZA(),y._uU(6,"\n                  "),y.qZA()}}function W(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"button",32),y.NdJ("click",function(){y.CHM(e);var t=y.oxw().$implicit;return y.oxw(3).deleteStream(t)}),y._uU(1,"\n                      "),y._UZ(2,"fa-icon",33),y._uU(3,"\n                      "),y.TgZ(4,"span",34),y._uU(5,"Delete"),y.qZA(),y._uU(6,"\n                    "),y.qZA()}}var K=function(){return["SUPER_USER"]};function X(t,n){if(1&t&&(y.TgZ(0,"tr"),y._uU(1,"\n            "),y.TgZ(2,"td"),y._uU(3,"\n                "),y.TgZ(4,"a"),y._uU(5),y.qZA(),y._uU(6,"\n              "),y.qZA(),y._uU(7,"\n              "),y.TgZ(8,"td"),y._uU(9,"\n                "),y.TgZ(10,"a"),y._uU(11),y.qZA(),y._uU(12,"\n              "),y.qZA(),y._uU(13,"\n            "),y.TgZ(14,"td"),y._uU(15),y.ALo(16,"slice"),y.qZA(),y._uU(17,"\n            "),y.TgZ(18,"td"),y._uU(19,"\n              "),y.TgZ(20,"a"),y._uU(21),y.qZA(),y._uU(22,"\n            "),y.qZA(),y._uU(23,"\n   \n            "),y.TgZ(24,"td"),y._uU(25),y.ALo(26,"date"),y.qZA(),y._uU(27,"\n            "),y.TgZ(28,"td"),y._uU(29),y.qZA(),y._uU(30,"\n            "),y.TgZ(31,"td"),y._uU(32),y.ALo(33,"date"),y.qZA(),y._uU(34,"\n            "),y.TgZ(35,"td",25),y._uU(36,"\n                "),y.TgZ(37,"div",26),y._uU(38,"\n                    "),y.YNc(39,$,7,0,"button",27),y._uU(40,"\n                    "),y.YNc(41,W,7,0,"button",28),y._uU(42,"\n                  "),y.qZA(),y._uU(43,"\n            "),y.qZA(),y._uU(44,"\n          "),y.qZA()),2&t){var e=n.$implicit;y.xp6(5),y.Oqu(e.idStream),y.xp6(6),y.Oqu(e.companyName),y.xp6(4),y.hij("   ",null==e.query?"":e.query.length>100?y.Dn7(16,9,e.query,0,90)+"..":e.query,""),y.xp6(6),y.Oqu(null==e.maxRowCount?"Sin L\xedmite":e.maxRowCount),y.xp6(4),y.Oqu(y.xi3(26,13,e.createdDate,"dd/MM/yy HH:mm")),y.xp6(4),y.Oqu(e.lastModifiedBy),y.xp6(3),y.Oqu(y.xi3(33,16,e.lastModifiedDate,"dd/MM/yy HH:mm")),y.xp6(7),y.Q6J("jhiHasAnyAuthority",y.DdM(19,K)),y.xp6(2),y.Q6J("jhiHasAnyAuthority",y.DdM(20,K))}}function G(t,n){if(1&t&&(y.TgZ(0,"tbody"),y._uU(1,"\n          "),y.YNc(2,X,45,21,"tr",24),y._uU(3,"\n        "),y.qZA()),2&t){var e=y.oxw(2);y.xp6(2),y.Q6J("ngForOf",e.streams)("ngForTrackBy",e.trackIdentity)}}function V(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"div",7),y._uU(1,"\n      "),y.TgZ(2,"table",8),y._uU(3,"\n        "),y.TgZ(4,"thead"),y._uU(5,"\n          "),y.TgZ(6,"tr",9),y.NdJ("predicateChange",function(t){return y.CHM(e),y.oxw().predicate=t})("ascendingChange",function(t){return y.CHM(e),y.oxw().ascending=t})("sortChange",function(){return y.CHM(e),y.oxw().transition()}),y._uU(7,"\n            "),y.TgZ(8,"th",10),y.TgZ(9,"span",11),y._uU(10,"ID"),y.qZA(),y._uU(11," "),y._UZ(12,"fa-icon",12),y.qZA(),y._uU(13,"\n            "),y.TgZ(14,"th",13),y.TgZ(15,"span",14),y._uU(16,"Company"),y.qZA(),y._uU(17," "),y._UZ(18,"fa-icon",12),y._uU(19," "),y.qZA(),y._uU(20,"\n            "),y.TgZ(21,"th",15),y.TgZ(22,"span",16),y._uU(23,"Query"),y.qZA(),y._uU(24," "),y.qZA(),y._uU(25,"\n            "),y.TgZ(26,"th",15),y.TgZ(27,"span",17),y._uU(28,"Max Result"),y.qZA(),y._uU(29," "),y.qZA(),y._uU(30,"\n          \n            \n            "),y.TgZ(31,"th",18),y._uU(32,"\n              "),y.TgZ(33,"span",19),y._uU(34,"Created Date"),y.qZA(),y._uU(35," "),y._UZ(36,"fa-icon",12),y._uU(37,"\n            "),y.qZA(),y._uU(38,"\n            "),y.TgZ(39,"th",20),y._uU(40,"\n              "),y.TgZ(41,"span",21),y._uU(42,"Last Modified By"),y.qZA(),y._uU(43," "),y._UZ(44,"fa-icon",12),y._uU(45,"\n            "),y.qZA(),y._uU(46,"\n            "),y.TgZ(47,"th",22),y._uU(48,"\n              "),y.TgZ(49,"span",23),y._uU(50,"Last Modified Date"),y.qZA(),y._uU(51," "),y._UZ(52,"fa-icon",12),y._uU(53,"\n            "),y.qZA(),y._uU(54,"\n            "),y._UZ(55,"th",15),y._uU(56,"\n          "),y.qZA(),y._uU(57,"\n        "),y.qZA(),y._uU(58,"\n        "),y.YNc(59,G,4,2,"tbody",6),y._uU(60,"\n      "),y.qZA(),y._uU(61,"\n    "),y.qZA()}if(2&t){var a=y.oxw();y.xp6(6),y.Q6J("predicate",a.predicate)("ascending",a.ascending),y.xp6(53),y.Q6J("ngIf",a.streams)}}var tt=function(t,n,e){return{page:t,totalItems:n,itemsPerPage:e}};function nt(t,n){if(1&t){var e=y.EpF();y.TgZ(0,"div"),y._uU(1,"\n      "),y.TgZ(2,"div",35),y._uU(3,"\n        "),y._UZ(4,"jhi-item-count",36),y._uU(5,"\n      "),y.qZA(),y._uU(6,"\n  \n      "),y.TgZ(7,"div",35),y._uU(8,"\n        "),y.TgZ(9,"ngb-pagination",37),y.NdJ("pageChange",function(t){return y.CHM(e),y.oxw().page=t})("pageChange",function(){return y.CHM(e),y.oxw().transition()}),y.qZA(),y._uU(10,"\n      "),y.qZA(),y._uU(11,"\n    "),y.qZA()}if(2&t){var a=y.oxw();y.xp6(4),y.Q6J("params",y.kEZ(7,tt,a.page,a.totalItems,a.itemsPerPage)),y.xp6(5),y.Q6J("collectionSize",a.totalItems)("page",a.page)("pageSize",a.itemsPerPage)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}var et=[{path:"",children:[{path:"stream",component:function(){var n=function(){function n(t,a,i,r,o,s){e(this,n),this.trashService=t,this.accountService=a,this.activatedRoute=i,this.router=r,this.modalService=o,this.translate=s,this.currentAccount=null,this.streams=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=g.gK,this.admnistrando=!1,this.idCompany=0}return i(n,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe(function(n){n.company?(t.admnistrando=!0,t.idCompany=n.company):t.admnistrando=!1}),this.accountService.identity().subscribe(function(n){return t.currentAccount=n}),this.handleNavigation()}},{key:"trackIdentity",value:function(t,n){return n.id}},{key:"deleteStream",value:function(t){var n=this,e=this.modalService.open(h.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.deleteStream"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.deleteStream",{id:t.idStream,name:t.name}),e.closed.subscribe(function(e){"true"===e&&n.trashService.deleteStream(t.id?t.id:0).subscribe(function(){return n.loadAll()})})}},{key:"restoreStream",value:function(t){var n=this,e=this.modalService.open(h.v,{size:"lg",backdrop:"static"});e.componentInstance.title=this.translate.instant("global.genericmodal.title.restoreStream"),e.componentInstance.question=this.translate.instant("global.genericmodal.question.restoreStream",{id:t.idStream,name:t.name}),e.closed.subscribe(function(e){"true"===e&&n.trashService.restoreStream(t.id?t.id:0).subscribe(function(){return n.loadAll()})})}},{key:"loadAll",value:function(){var t=this;this.isLoading=!0,this.trashService.ListDeletedStream({page:this.page-1,size:this.itemsPerPage,sort:this.sort(),idCompany:this.idCompany}).subscribe(function(n){t.isLoading=!1,t.onSuccess(n.body,n.headers)},function(){return t.isLoading=!1})}},{key:"transition",value:function(){this.router.navigate(["/trash/stream"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:"".concat(this.predicate,",").concat(this.ascending?g.aW:g.jo)}})}},{key:"handleNavigation",value:function(){var n=this;(0,m.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(function(e){var a,i=t(e,2),r=i[0],o=i[1],s=o.get("page");n.page=+(null!=s?s:1);var u=(null!==(a=o.get(g._l))&&void 0!==a?a:r.defaultSort).split(",");n.predicate=u[0],n.ascending=u[1]===g.aW,n.loadAll()})}},{key:"sort",value:function(){var t=["".concat(this.predicate,",").concat(this.ascending?g.aW:g.jo)];return"id"!==this.predicate&&t.push("id"),t}},{key:"onSuccess",value:function(t,n){this.totalItems=Number(n.get("X-Total-Count")),this.streams=t}}]),n}();return n.\u0275fac=function(t){return new(t||n)(y.Y36(Z),y.Y36(v.B),y.Y36(s.gz),y.Y36(s.F0),y.Y36(b.FF),y.Y36(A.sK))},n.\u0275cmp=y.Xpm({type:n,selectors:[["jhi-trash-stream-component"]],decls:28,vars:4,consts:[["id","stream-management-page-heading","jhiTranslate","streamManagement.home.trash-stream-title","data-cy","streamManagementPageHeading",1,"mdi","mdi-nfc"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","streamManagement.home.refreshListLabel"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"table-responsive"],["aria-describedby","stream-management-page-heading",1,"table","table-hover","table-striped"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","idStream"],["jhiTranslate","global.field.id"],["icon","sort"],["scope","col","jhiSortBy","company"],["jhiTranslate","streamManagement.table.company"],["scope","col"],["jhiTranslate","streamManagement.table.query"],["jhiTranslate","streamManagement.table.maxValue"],["scope","col","jhiSortBy","createdDate"],["jhiTranslate","streamManagement.createdDate"],["scope","col","jhiSortBy","lastModifiedBy"],["jhiTranslate","streamManagement.lastModifiedBy"],["scope","col","jhiSortBy","lastModifiedDate"],["jhiTranslate","streamManagement.lastModifiedDate"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-right"],[1,"btn-group"],["type","button","class","btn btn-success btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button","class","btn btn-danger btn-sm",3,"click",4,"jhiHasAnyAuthority"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["icon","trash-restore"],["jhiTranslate","entity.action.restore",1,"d-none","d-md-inline"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"],[1,"row","justify-content-center"],[3,"params"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"]],template:function(t,n){1&t&&(y.TgZ(0,"div"),y._uU(1,"\n    "),y.TgZ(2,"h2"),y._uU(3,"\n      "),y.TgZ(4,"span",0),y._uU(5,"Companies"),y.qZA(),y._uU(6,"\n  \n      "),y.TgZ(7,"div",1),y._uU(8,"\n        "),y.TgZ(9,"button",2),y.NdJ("click",function(){return n.loadAll()}),y._uU(10,"\n          "),y._UZ(11,"fa-icon",3),y._uU(12,"\n          "),y.TgZ(13,"span",4),y._uU(14,"Refresh List"),y.qZA(),y._uU(15,"\n        "),y.qZA(),y._uU(16,"\n \n      "),y.qZA(),y._uU(17,"\n    "),y.qZA(),y._uU(18,"\n  \n    "),y._UZ(19,"jhi-alert-error"),y._uU(20,"\n  \n    "),y._UZ(21,"jhi-alert"),y._uU(22,"\n  \n    "),y.YNc(23,V,62,3,"div",5),y._uU(24,"\n  \n    "),y.YNc(25,nt,12,11,"div",6),y._uU(26,"\n  "),y.qZA(),y._uU(27,"\n  ")),2&t&&(y.xp6(9),y.Q6J("disabled",n.isLoading),y.xp6(2),y.Q6J("spin",n.isLoading),y.xp6(12),y.Q6J("ngIf",n.streams),y.xp6(2),y.Q6J("ngIf",n.streams))},directives:[S.P,q.BN,j.A,x.w,M.O5,C.b,k.T,M.sg,T.o,N.N,b.N9],pipes:[M.OU,M.uU],styles:[""]}),n}(),data:{pageTitle:"global.menu.trash.management",defaultSort:"id,asc"}},{path:"company",component:E,canActivate:[p.Z],data:{pageTitle:"global.menu.trash.management",defaultSort:"id,asc"}}]}],at=r(6392),it=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=y.oAB({type:t}),t.\u0275inj=y.cJS({imports:[[l.m,s.Bz.forChild(et),u.A0,d.ZQ,c.Nh,at.UserManagementModule,at.UserManagementModule]]}),t}()}}])}();