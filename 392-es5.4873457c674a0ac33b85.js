!function(){"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var i,a,r=[],u=!0,o=!1;try{for(t=t.call(e);!(u=(i=t.next()).done)&&(r.push(i.value),!n||r.length!==n);u=!0);}catch(s){o=!0,a=s}finally{try{u||null==t.return||t.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}(self.webpackChunkcore=self.webpackChunkcore||[]).push([[392],{3449:function(e,n,i){i.d(n,{x:function(){return l}});var r,u=i(2741),o=i(1887),s=i(8986),l=((r=function(){function e(n,i){t(this,e),this.http=n,this.applicationConfigService=i,this.resourceUrl=this.applicationConfigService.getEndpointFor("api/admin/users")}return a(e,[{key:"create",value:function(e){return this.http.post(this.resourceUrl,e)}},{key:"update",value:function(e){return this.http.put(this.resourceUrl,e)}},{key:"find",value:function(e){return this.http.get("".concat(this.resourceUrl,"/").concat(e))}},{key:"query",value:function(e){return this.http.get(this.resourceUrl+"/bygroup/"+e)}},{key:"delete",value:function(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/admin/delete/users"),e)}},{key:"authorities",value:function(){return this.http.get(this.applicationConfigService.getEndpointFor("api/authorities"))}},{key:"userList",value:function(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/"+e))}},{key:"userAdminList",value:function(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/admin/"+e))}},{key:"userStreamList",value:function(e){return this.http.get(this.applicationConfigService.getEndpointFor("api/admin/users/list/stream/"+e))}},{key:"userToCompany",value:function(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/company/data/add/relation/company"),e)}},{key:"userAdminToUserStream",value:function(e){return this.http.post(this.applicationConfigService.getEndpointFor("api/company/data/add/relation/user"),e)}}]),e}()).\u0275fac=function(e){return new(e||r)(u.LFG(o.eN),u.LFG(s.y))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},2039:function(e,n,i){i.d(n,{b:function(){return D}});var r=i(2741),u=i(3324),o=i(7194),s=i(2553),l=i(6006),c=i(3449),d=i(8335),m=i(6912),g=i(8467),f=i(1633),h=i(222),p=i(4243),v=i(6662),U=i(4477);function _(e,n){1&e&&(r.TgZ(0,"h2",8),r._uU(1,"Create or edit a User"),r.qZA())}function Z(e,n){1&e&&(r.TgZ(0,"h2",9),r._uU(1,"Create or edit a User"),r.qZA())}function y(e,n){1&e&&(r.TgZ(0,"h2",10),r._uU(1,"Create or edit a User"),r.qZA())}var T=function(){return{max:150}};function b(e,n){1&e&&(r.TgZ(0,"small",19),r._uU(1,"\n              This field cannot be longer than 150 characters.\n            "),r.qZA()),2&e&&r.Q6J("translateValues",r.DdM(1,T))}function A(e,n){if(1&e&&(r.TgZ(0,"div"),r._uU(1,"\n            "),r.YNc(2,b,2,2,"small",18),r._uU(3,"\n          "),r.qZA()),2&e){var t,i=r.oxw(2);r.xp6(2),r.Q6J("ngIf",null==(t=i.editForm.get("fullname"))||null==t.errors?null:t.errors.maxlength)}}function q(e,n){1&e&&r._UZ(0,"input",20)}function x(e,n){1&e&&r._UZ(0,"input",21)}function S(e,n){1&e&&(r.TgZ(0,"small",24),r._uU(1,"\n              This field is required.\n            "),r.qZA())}var C=function(){return{max:100}};function N(e,n){1&e&&(r.TgZ(0,"small",19),r._uU(1,"\n              This field cannot be longer than 100 characters.\n            "),r.qZA()),2&e&&r.Q6J("translateValues",r.DdM(1,C))}function I(e,n){1&e&&(r.TgZ(0,"small",25),r._uU(1,"\n              Your email is invalid.\n            "),r.qZA())}function k(e,n){if(1&e&&(r.TgZ(0,"div"),r._uU(1,"\n            "),r.YNc(2,S,2,0,"small",22),r._uU(3,"\n\n            "),r.YNc(4,N,2,2,"small",18),r._uU(5,"\n\n      \n            "),r.YNc(6,I,2,0,"small",23),r._uU(7,"\n          "),r.qZA()),2&e){var t,i,a,u=r.oxw(2);r.xp6(2),r.Q6J("ngIf",null==(t=u.editForm.get("email"))||null==t.errors?null:t.errors.required),r.xp6(2),r.Q6J("ngIf",null==(i=u.editForm.get("email"))||null==i.errors?null:i.errors.maxlength),r.xp6(2),r.Q6J("ngIf",null==(a=u.editForm.get("email"))||null==a.errors?null:a.errors.email)}}function F(e,n){1&e&&(r.TgZ(0,"div"),r._uU(1,"\n                "),r.TgZ(2,"small",28),r._uU(3,"\n              "),r.qZA(),r._uU(4,"\n              "),r.qZA())}function M(e,n){if(1&e){var t=r.EpF();r.TgZ(0,"div",11),r._uU(1,"\n              "),r._UZ(2,"label",26),r._uU(3,"\n              "),r.TgZ(4,"input",27),r.NdJ("keypress",function(e){return r.CHM(t),r.oxw(2).omitSpace(e)}),r.qZA(),r._uU(5,"\n           \n              "),r.YNc(6,F,5,0,"div",6),r._uU(7,"\n      "),r.qZA()}if(2&e){var i=r.oxw(2);r.xp6(6),r.Q6J("ngIf",i.editForm.get("passwrd").invalid&&(i.editForm.get("passwrd").dirty||i.editForm.get("passwrd").touched))}}function w(e,n){if(1&e&&(r.TgZ(0,"option",33),r._uU(1),r.qZA()),2&e){var t=n.$implicit;r.Q6J("value",t.value),r.xp6(1),r.Oqu(t.name)}}function j(e,n){if(1&e&&(r.TgZ(0,"div",11),r._uU(1,"\n          "),r.TgZ(2,"label",29),r._uU(3,"Profiles"),r.qZA(),r._uU(4,"\n          "),r.TgZ(5,"select",30),r._uU(6,"\n            "),r.TgZ(7,"option",31),r._uU(8,"Seleccione Perfil "),r.qZA(),r._uU(9,"\n            "),r.YNc(10,w,2,2,"option",32),r._uU(11,"\n             "),r.qZA(),r._uU(12,"\n        "),r.qZA()),2&e){var t=r.oxw(2);r.xp6(10),r.Q6J("ngForOf",t.AUTHS_CONTS)}}function J(e,n){if(1&e&&(r.TgZ(0,"div"),r._uU(1,"\n        "),r._UZ(2,"jhi-alert-error"),r._uU(3,"\n        \n        "),r.TgZ(4,"div",11),r._uU(5,"\n          "),r.TgZ(6,"label",12),r._uU(7,"First Name"),r.qZA(),r._uU(8,"\n          "),r._UZ(9,"input",13),r._uU(10,"\n  \n          "),r.YNc(11,A,4,1,"div",6),r._uU(12,"\n        "),r.qZA(),r._uU(13,"\n        "),r.TgZ(14,"div",11),r._uU(15,"\n          "),r.TgZ(16,"label",14),r._uU(17,"Email"),r.qZA(),r._uU(18,"\n          "),r.YNc(19,q,1,0,"input",15),r._uU(20,"\n          "),r.YNc(21,x,1,0,"input",16),r._uU(22,"\n         \n\n          "),r.YNc(23,k,8,3,"div",6),r._uU(24,"\n        "),r.qZA(),r._uU(25,"\n\n          "),r.YNc(26,M,8,1,"div",17),r._uU(27,"\n        "),r.YNc(28,j,13,1,"div",17),r._uU(29,"\n      "),r.qZA()),2&e){var t=r.oxw();r.xp6(11),r.Q6J("ngIf",t.editForm.get("fullname").invalid&&(t.editForm.get("fullname").dirty||t.editForm.get("fullname").touched)),r.xp6(8),r.Q6J("ngIf",null==t.user.uuid),r.xp6(2),r.Q6J("ngIf",void 0!==t.user.uuid),r.xp6(2),r.Q6J("ngIf",t.editForm.get("email").invalid&&(t.editForm.get("email").dirty||t.editForm.get("email").touched)),r.xp6(3),r.Q6J("ngIf",null==t.user.uuid),r.xp6(2),r.Q6J("ngIf",t.editProfile)}}function Y(e,n){if(1&e){var t=r.EpF();r.TgZ(0,"button",38),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).previousState()}),r._uU(1,"\n          "),r._UZ(2,"fa-icon",39),r._uU(3,"\xa0"),r.TgZ(4,"span",40),r._uU(5,"Cancel"),r.qZA(),r._uU(6,"\n        "),r.qZA()}}function Q(e,n){if(1&e&&(r.TgZ(0,"button",41),r._uU(1,"\n          "),r._UZ(2,"fa-icon",42),r._uU(3,"\xa0"),r.TgZ(4,"span",43),r._uU(5,"Save"),r.qZA(),r._uU(6,"\n        "),r.qZA()),2&e){var t=r.oxw(2);r.Q6J("disabled",t.editForm.invalid||t.isSaving)}}function L(e,n){if(1&e){var t=r.EpF();r.TgZ(0,"button",44),r.NdJ("click",function(){return r.CHM(t),r.oxw(2).update()}),r._uU(1,"\n          "),r._UZ(2,"fa-icon",42),r._uU(3,"\xa0"),r.TgZ(4,"span",45),r._uU(5,"Save"),r.qZA(),r._uU(6,"\n        "),r.qZA()}}function E(e,n){if(1&e&&(r.TgZ(0,"div",34),r._uU(1,"\n        "),r.YNc(2,Y,7,0,"button",35),r._uU(3,"\n\n        "),r.YNc(4,Q,7,1,"button",36),r._uU(5,"\n        "),r.YNc(6,L,7,0,"button",37),r._uU(7,"\n      "),r.qZA()),2&e){var t=r.oxw();r.xp6(2),r.Q6J("ngIf",!t.isCompany&&null==t.user.uuid),r.xp6(2),r.Q6J("ngIf",null==t.user.uuid),r.xp6(2),r.Q6J("ngIf",void 0!==t.user.uuid)}}var O,D=((O=function(){function e(n,i,a,o,c,d){t(this,e),this.userService=n,this.route=i,this.fb=a,this.alertService=o,this.accountService=c,this.translate=d,this.isCompany=!1,this.idCompany=0,this.callUpdate=new r.vpe,this.destroy$=new l.xQ,this.languages=s.a,this.editProfile=!1,this.authorities=[],this.isSaving=!1,this.account=null,this.AUTHS_CONTS=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}],this.editForm=this.fb.group({email:["",[u.kI.maxLength(254),u.kI.email]],authorities:[],passwrd:["",[u.kI.required,u.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[u.kI.maxLength(150)]]})}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.editProfile=this.route.snapshot.data.profile,this.route.data.subscribe(function(n){var t=n.user;t&&(e.user=t,void 0===e.user.id&&(e.user.activated=!0),e.updateForm(t))}),this.userService.authorities().subscribe(function(n){return e.authorities=n}),this.accountService.getAuthenticationState().pipe((0,o.R)(this.destroy$)).subscribe(function(n){e.account=n})}},{key:"previousState",value:function(){var e;this.user.login==(null===(e=this.account)||void 0===e?void 0:e.email)?this.alertService.addAlert({type:"success",message:this.translate.instant("global.relogneed"),toast:!1}):window.history.back()}},{key:"save",value:function(){var e=this;this.isSaving=!0,this.updateUser(this.user),void 0!==this.user.uuid?this.userService.update(this.user).subscribe(function(n){e.onSaveSuccess()},function(){return e.onSaveError()}):this.userService.create(this.user).subscribe(function(n){var t;e.isCompany?e.userService.userAdminToUserStream({emailStream:n.email,emailAdmin:null===(t=e.account)||void 0===t?void 0:t.email}).subscribe(function(t){e.userService.userToCompany({id:e.idCompany,idUsuario:n.id,emailUser:n.email}).subscribe(function(t){e.callUpdate.emit({id:n.id,idData:t.id,login:n.email}),e.initForm(),e.isSaving=!1})}):e.onSaveSuccess()},function(){return e.onSaveError()})}},{key:"update",value:function(){var e=this;this.updateUserForUpdate(this.user),this.userService.update(this.user).subscribe(function(n){e.onSaveSuccess()},function(){return e.onSaveError()})}},{key:"omitSpace",value:function(e){return 32!=e.charCode}},{key:"initForm",value:function(){this.editForm=this.fb.group({email:["",[u.kI.maxLength(254),u.kI.email]],authorities:[],passwrd:["",[u.kI.required,u.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[u.kI.maxLength(150)]]})}},{key:"updateForm",value:function(e){this.editForm.patchValue({id:e.uuid,login:e.login,fullname:e.fullName,lastName:e.lastName,email:e.login,activated:e.activated,langKey:e.langKey,authorities:e.authority})}},{key:"updateUser",value:function(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value],e.password=this.editForm.get(["passwrd"]).value,this.isCompany&&(e.authorities=["STREAM_ADMIN"])}},{key:"updateUserForUpdate",value:function(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value]}},{key:"onSaveSuccess",value:function(){this.isSaving=!1,this.previousState()}},{key:"onSaveError",value:function(){this.isSaving=!1}}]),e}()).\u0275fac=function(e){return new(e||O)(r.Y36(c.x),r.Y36(d.gz),r.Y36(u.qu),r.Y36(m.c),r.Y36(g.B),r.Y36(f.sK))},O.\u0275cmp=r.Xpm({type:O,selectors:[["jhi-user-mgmt-update"]],inputs:{user:"user",isCompany:"isCompany",idCompany:"idCompany"},outputs:{callUpdate:"callUpdate"},decls:19,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.create",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData",4,"ngIf"],[4,"ngIf"],["style","margin-top:10px;",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel"],["id","myUserLabel","jhiTranslate","userManagement.home.create"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.fullname",1,"form-control-label"],["type","text","name","fullname","formControlName","fullname",1,"form-control"],["jhiTranslate","userManagement.email",1,"form-control-label"],["type","email","class","form-control","name","email","formControlName","email",4,"ngIf"],["readonly","","class","form-control","formControlName","email",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["type","email","name","email","formControlName","email",1,"form-control"],["readonly","","formControlName","email",1,"form-control"],["class","form-text text-danger","jhiTranslate","entity.validation.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["jhiTranslate","entity.validation.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["for","passwrd","jhiTranslate","userManagement.password"],["type","text","name","password","value","","formControlName","passwrd",1,"form-control",3,"keypress"],["jhiTranslate","entity.validation.password",1,"form-text","text-danger"],["jhiTranslate","userManagement.profiles"],["name","authority","formControlName","authorities",1,"form-control"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin-top","10px"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"],["type","button",1,"btn","btn-primary",3,"click"],["jhiTranslate","entity.action.update"]],template:function(e,n){1&e&&(r.TgZ(0,"div",0),r._uU(1,"\n  "),r.TgZ(2,"div",1),r._uU(3,"\n    "),r.TgZ(4,"form",2),r.NdJ("ngSubmit",function(){return n.save()}),r._uU(5,"\n      "),r.YNc(6,_,2,0,"h2",3),r._uU(7,"\n      "),r.YNc(8,Z,2,0,"h2",4),r._uU(9,"\n      "),r.YNc(10,y,2,0,"h2",5),r._uU(11,"\n\n      "),r.YNc(12,J,30,6,"div",6),r._uU(13,"\n   \n\n      "),r.YNc(14,E,8,3,"div",7),r._uU(15,"\n    "),r.qZA(),r._uU(16,"\n  "),r.qZA(),r._uU(17,"\n"),r.qZA(),r._uU(18,"\n")),2&e&&(r.xp6(4),r.Q6J("formGroup",n.editForm),r.xp6(2),r.Q6J("ngIf",!n.isCompany&&null==n.user.uuid),r.xp6(2),r.Q6J("ngIf",n.isCompany&&null==n.user.uuid),r.xp6(2),r.Q6J("ngIf",null!=n.user.uuid),r.xp6(2),r.Q6J("ngIf",n.user),r.xp6(2),r.Q6J("ngIf",n.user))},directives:[u._Y,u.JL,u.sg,h.O5,p.P,v.A,u.Fj,u.JJ,u.u,u.EJ,u.YN,u.Kr,h.sg,U.BN],encapsulation:2}),O)},5191:function(e,n,i){i.d(n,{n:function(){return a}});var a=function e(n,i,a,r,u,o,s,l,c,d,m,g,f,h,p,v,U){t(this,e),this.id=n,this.login=i,this.firstName=a,this.lastName=r,this.email=u,this.activated=o,this.langKey=s,this.authorities=l,this.createdBy=c,this.createdDate=d,this.lastModifiedBy=m,this.lastModifiedDate=g,this.password=f,this.sub=h,this.fullName=p,this.uuid=v,this.authority=U}},6392:function(n,i,r){r.r(i),r.d(i,{UserManagementModule:function(){return ve}});var u=r(8335),o=r(1382),s=r(267),l=r(5191),c=r(6905),d=r(4991),m=r(2741),g=r(3449),f=r(7390),h=r(222),p=r(3324),v=r(4243),U=r(6662),_=r(4477),Z=function(e){return{login:e}};function y(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"form",1),m.NdJ("ngSubmit",function(){m.CHM(t);var e=m.oxw();return e.confirmDelete(e.user.login)}),m._uU(1,"\n  "),m.TgZ(2,"div",2),m._uU(3,"\n    "),m.TgZ(4,"h4",3),m._uU(5,"Confirm delete operation"),m.qZA(),m._uU(6,"\n\n    "),m.TgZ(7,"button",4),m.NdJ("click",function(){return m.CHM(t),m.oxw().cancel()}),m._uU(8,"\xd7"),m.qZA(),m._uU(9,"\n  "),m.qZA(),m._uU(10,"\n\n  "),m.TgZ(11,"div",5),m._uU(12,"\n    "),m._UZ(13,"jhi-alert-error"),m._uU(14,"\n\n    "),m.TgZ(15,"p",6),m._uU(16,"\n      Are you sure you want to delete this User?\n    "),m.qZA(),m._uU(17,"\n  "),m.qZA(),m._uU(18,"\n\n  "),m.TgZ(19,"div",7),m._uU(20,"\n    "),m.TgZ(21,"button",8),m.NdJ("click",function(){return m.CHM(t),m.oxw().cancel()}),m._uU(22,"\n      "),m._UZ(23,"fa-icon",9),m._uU(24,"\xa0"),m.TgZ(25,"span",10),m._uU(26,"Cancel"),m.qZA(),m._uU(27,"\n    "),m.qZA(),m._uU(28,"\n\n    "),m.TgZ(29,"button",11),m._uU(30,"\n      "),m._UZ(31,"fa-icon",12),m._uU(32,"\xa0"),m.TgZ(33,"span",13),m._uU(34,"Delete"),m.qZA(),m._uU(35,"\n    "),m.qZA(),m._uU(36,"\n  "),m.qZA(),m._uU(37,"\n"),m.qZA()}if(2&e){var i=m.oxw();m.xp6(15),m.Q6J("translateValues",m.VKq(1,Z,i.user.login))}}var T,b=((T=function(){function e(n,i){t(this,e),this.userService=n,this.activeModal=i}return a(e,[{key:"cancel",value:function(){this.activeModal.dismiss()}},{key:"confirmDelete",value:function(e){var n=this;this.userService.delete({sub:e}).subscribe(function(){n.activeModal.close("deleted")})}}]),e}()).\u0275fac=function(e){return new(e||T)(m.Y36(g.x),m.Y36(f.Kz))},T.\u0275cmp=m.Xpm({type:T,selectors:[["jhi-user-mgmt-delete-dialog"]],decls:2,vars:1,consts:[["name","deleteForm",3,"ngSubmit",4,"ngIf"],["name","deleteForm",3,"ngSubmit"],[1,"modal-header"],["jhiTranslate","entity.delete.title",1,"modal-title"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-body"],["jhiTranslate","userManagement.delete.question",3,"translateValues"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-danger"],["icon","times"],["jhiTranslate","entity.action.delete"]],template:function(e,n){1&e&&(m.YNc(0,y,38,3,"form",0),m._uU(1,"\n")),2&e&&m.Q6J("ngIf",n.user)},directives:[h.O5,p._Y,p.JL,p.F,v.P,U.A,_.BN],encapsulation:2}),T),A=r(1322),q=r(8467),x=r(1066),S=r(6059),C=r(9044);function N(e,n){if(1&e&&(m.TgZ(0,"option",14),m._uU(1),m.qZA()),2&e){var t=n.$implicit;m.Q6J("value",t.value),m.xp6(1),m.Oqu(t.name)}}function I(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"tr",24),m.NdJ("dblclick",function(){var e=m.CHM(t).$implicit;return m.oxw(3).doubleClick(e.login)}),m._uU(1,"\n          "),m.TgZ(2,"td"),m._uU(3),m.qZA(),m._uU(4,"\n          "),m.TgZ(5,"td"),m._uU(6),m.qZA(),m._uU(7,"\n          "),m.TgZ(8,"td"),m._uU(9,"\n         \n          "),m.qZA(),m._uU(10,"\n\n          "),m.TgZ(11,"td",25),m._uU(12,"\n            "),m.TgZ(13,"div",26),m._uU(14,"\n           \n              "),m.TgZ(15,"button",27),m.NdJ("click",function(){var e=m.CHM(t).$implicit;return m.oxw(3).deleteUser(e)}),m._uU(16,"\n                "),m._UZ(17,"fa-icon",28),m._uU(18,"\n                "),m.TgZ(19,"span",29),m._uU(20,"Delete"),m.qZA(),m._uU(21,"\n              "),m.qZA(),m._uU(22,"\n            "),m.qZA(),m._uU(23,"\n          "),m.qZA(),m._uU(24,"\n        "),m.qZA()}if(2&e){var i=n.$implicit,a=m.oxw(3);m.xp6(3),m.Oqu(i.login),m.xp6(3),m.Oqu(i.fullName),m.xp6(9),m.Q6J("disabled",!a.currentAccount||a.currentAccount.login===i.login)}}function k(e,n){if(1&e&&(m.TgZ(0,"tbody"),m._uU(1,"\n        "),m.YNc(2,I,25,3,"tr",23),m._uU(3,"\n      "),m.qZA()),2&e){var t=m.oxw(2);m.xp6(2),m.Q6J("ngForOf",t.users)("ngForTrackBy",t.trackIdentity)}}function F(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",15),m._uU(1,"\n    "),m.TgZ(2,"table",16),m._uU(3,"\n      "),m.TgZ(4,"thead"),m._uU(5,"\n        "),m.TgZ(6,"tr",17),m.NdJ("predicateChange",function(e){return m.CHM(t),m.oxw().predicate=e})("ascendingChange",function(e){return m.CHM(t),m.oxw().ascending=e})("sortChange",function(){return m.CHM(t),m.oxw().transition()}),m._uU(7,"\n          "),m.TgZ(8,"th",18),m.TgZ(9,"span",19),m._uU(10,"Email"),m.qZA(),m._uU(11," "),m.qZA(),m._uU(12,"\n          "),m.TgZ(13,"th",18),m.TgZ(14,"span",20),m._uU(15,"Email"),m.qZA(),m._uU(16," "),m.qZA(),m._uU(17,"\n     \n\n    \n          "),m._UZ(18,"th",21),m._uU(19,"\n        "),m.qZA(),m._uU(20,"\n      "),m.qZA(),m._uU(21,"\n      "),m.YNc(22,k,4,2,"tbody",22),m._uU(23,"\n    "),m.qZA(),m._uU(24,"\n  "),m.qZA()}if(2&e){var i=m.oxw();m.xp6(6),m.Q6J("predicate",i.predicate)("ascending",i.ascending),m.xp6(16),m.Q6J("ngIf",i.users)}}var M=function(){return["./new"]},w=function(){var n=function(){function n(e,i,a,r,u){t(this,n),this.userService=e,this.accountService=i,this.activatedRoute=a,this.router=r,this.modalService=u,this.currentAccount=null,this.users=null,this.isLoading=!1,this.totalItems=0,this.itemsPerPage=d.gK,this.authority="-1",this.authorities=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}]}return a(n,[{key:"ngOnInit",value:function(){var e=this;this.accountService.identity().subscribe(function(n){return e.currentAccount=n}),this.handleNavigation()}},{key:"doubleClick",value:function(e){(this.accountService.hasAnyAuthority(A.W.SUPER_USER)||this.accountService.hasAnyAuthority(A.W.COMPANY_ADMIN))&&this.router.navigate(["/admin/user-management/"+e+"/allowprofile"])}},{key:"trackIdentity",value:function(e,n){return n.id}},{key:"deleteUser",value:function(e){var n=this,t=this.modalService.open(b,{size:"lg",backdrop:"static"});t.componentInstance.user=e,t.closed.subscribe(function(e){"deleted"===e&&n.loadAll()})}},{key:"onChangeProfile",value:function(e){this.loadAll()}},{key:"loadAll",value:function(){var e=this;this.isLoading=!0,this.userService.query(this.authority).subscribe(function(n){e.isLoading=!1,e.onSuccess(n)},function(){return e.isLoading=!1})}},{key:"transition",value:function(){this.router.navigate(["./"],{relativeTo:this.activatedRoute.parent,queryParams:{page:this.page,sort:"".concat(this.predicate,",").concat(this.ascending?d.aW:d.jo)}})}},{key:"handleNavigation",value:function(){(0,c.aj)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(function(n){var t=e(n,2);t[0],t[1]})}},{key:"sort",value:function(){var e=["".concat(this.predicate,",").concat(this.ascending?d.aW:d.jo)];return"id"!==this.predicate&&e.push("id"),e}},{key:"onSuccess",value:function(e){this.users=e}}]),n}();return n.\u0275fac=function(e){return new(e||n)(m.Y36(g.x),m.Y36(q.B),m.Y36(u.gz),m.Y36(u.F0),m.Y36(f.FF))},n.\u0275cmp=m.Xpm({type:n,selectors:[["jhi-user-mgmt"]],decls:48,vars:7,consts:[["id","user-management-page-heading","jhiTranslate","userManagement.home.title","data-cy","userManagementPageHeading",1,"mdi","mdi-account"],[1,"d-flex","justify-content-end"],[1,"btn","btn-info","mr-2",3,"disabled","click"],["icon","sync",3,"spin"],["jhiTranslate","userManagement.home.refreshListLabel"],[1,"btn","btn-primary","jh-create-entity",3,"routerLink"],["icon","plus"],["jhiTranslate","userManagement.home.createLabel"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.profiles"],[1,"form-control",3,"ngModel","change","ngModelChange"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],["class","table-responsive",4,"ngIf"],[3,"value"],[1,"table-responsive"],["aria-describedby","user-management-page-heading",1,"table","table-striped","table-hover","cursor-grab-table"],["jhiSort","",3,"predicate","ascending","predicateChange","ascendingChange","sortChange"],["scope","col","jhiSortBy","email"],["jhiTranslate","userManagement.email"],["jhiTranslate","userManagement.fullname"],["scope","col"],[4,"ngIf"],[3,"dblclick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"dblclick"],[1,"text-right"],[1,"btn-group"],["type","button",1,"btn","btn-danger","btn-sm",3,"disabled","click"],["icon","times"],["jhiTranslate","entity.action.delete",1,"d-none","d-md-inline"]],template:function(e,n){1&e&&(m.TgZ(0,"div"),m._uU(1,"\n  "),m.TgZ(2,"h2"),m._uU(3,"\n    "),m.TgZ(4,"span",0),m._uU(5,"Users"),m.qZA(),m._uU(6,"\n\n    "),m.TgZ(7,"div",1),m._uU(8,"\n      "),m.TgZ(9,"button",2),m.NdJ("click",function(){return n.loadAll()}),m._uU(10,"\n        "),m._UZ(11,"fa-icon",3),m._uU(12,"\n        "),m.TgZ(13,"span",4),m._uU(14,"Refresh List"),m.qZA(),m._uU(15,"\n      "),m.qZA(),m._uU(16,"\n      "),m.TgZ(17,"button",5),m._uU(18,"\n        "),m._UZ(19,"fa-icon",6),m._uU(20," "),m.TgZ(21,"span",7),m._uU(22,"Create a new User"),m.qZA(),m._uU(23,"\n      "),m.qZA(),m._uU(24,"\n    "),m.qZA(),m._uU(25,"\n  "),m.qZA(),m._uU(26,"\n\n  "),m._UZ(27,"jhi-alert-error"),m._uU(28,"\n\n  "),m._UZ(29,"jhi-alert"),m._uU(30,"\n  "),m.TgZ(31,"div",8),m._uU(32,"\n    "),m.TgZ(33,"label",9),m._uU(34,"Profiles"),m.qZA(),m._uU(35,"\n    "),m.TgZ(36,"select",10),m.NdJ("change",function(){return n.onChangeProfile(n.authority)})("ngModelChange",function(e){return n.authority=e}),m._uU(37,"\n      "),m.TgZ(38,"option",11),m._uU(39,"Seleccione Perfil "),m.qZA(),m._uU(40,"\n      "),m.YNc(41,N,2,2,"option",12),m._uU(42,"\n    "),m.qZA(),m._uU(43,"\n  "),m.qZA(),m._uU(44,"\n  "),m.YNc(45,F,25,3,"div",13),m._uU(46,"\n\n"),m.qZA(),m._uU(47,"\n")),2&e&&(m.xp6(9),m.Q6J("disabled",n.isLoading),m.xp6(2),m.Q6J("spin",n.isLoading),m.xp6(6),m.Q6J("routerLink",m.DdM(6,M)),m.xp6(19),m.Q6J("ngModel",n.authority),m.xp6(5),m.Q6J("ngForOf",n.authorities),m.xp6(4),m.Q6J("ngIf",n.users))},directives:[v.P,_.BN,u.rH,U.A,x.w,p.EJ,p.JJ,p.On,p.YN,p.Kr,h.sg,h.O5,S.b,C.T],encapsulation:2}),n}();function j(e,n){1&e&&(m.TgZ(0,"span",22),m._uU(1,"Activated"),m.qZA())}function J(e,n){1&e&&(m.TgZ(0,"span",23),m._uU(1,"Deactivated"),m.qZA())}function Y(e,n){if(1&e&&(m.TgZ(0,"li"),m._uU(1,"\n              "),m.TgZ(2,"span",24),m._uU(3),m.qZA(),m._uU(4,"\n            "),m.qZA()),2&e){var t=n.$implicit;m.xp6(3),m.Oqu(t)}}function Q(e,n){if(1&e&&(m.TgZ(0,"div"),m._uU(1,"\n      "),m.TgZ(2,"h2"),m._uU(3,"\n        "),m.TgZ(4,"span",3),m._uU(5,"User"),m.qZA(),m._uU(6," ["),m.TgZ(7,"strong"),m._uU(8),m.qZA(),m._uU(9,"]\n      "),m.qZA(),m._uU(10,"\n\n      "),m.TgZ(11,"dl",4),m._uU(12,"\n        "),m.TgZ(13,"dt"),m.TgZ(14,"span",5),m._uU(15,"Login"),m.qZA(),m.qZA(),m._uU(16,"\n        "),m.TgZ(17,"dd"),m._uU(18,"\n          "),m.TgZ(19,"span"),m._uU(20),m.qZA(),m._uU(21,"\n          "),m.YNc(22,j,2,0,"span",6),m._uU(23,"\n          "),m.YNc(24,J,2,0,"span",7),m._uU(25,"\n        "),m.qZA(),m._uU(26,"\n\n        "),m.TgZ(27,"dt"),m.TgZ(28,"span",8),m._uU(29,"First Name"),m.qZA(),m.qZA(),m._uU(30,"\n        "),m.TgZ(31,"dd"),m._uU(32),m.qZA(),m._uU(33,"\n\n        "),m.TgZ(34,"dt"),m.TgZ(35,"span",9),m._uU(36,"Last Name"),m.qZA(),m.qZA(),m._uU(37,"\n        "),m.TgZ(38,"dd"),m._uU(39),m.qZA(),m._uU(40,"\n\n        "),m.TgZ(41,"dt"),m.TgZ(42,"span",10),m._uU(43,"Email"),m.qZA(),m.qZA(),m._uU(44,"\n        "),m.TgZ(45,"dd"),m._uU(46),m.qZA(),m._uU(47,"\n\n        "),m.TgZ(48,"dt"),m.TgZ(49,"span",11),m._uU(50,"Lang Key"),m.qZA(),m.qZA(),m._uU(51,"\n        "),m.TgZ(52,"dd"),m._uU(53),m.qZA(),m._uU(54,"\n\n        "),m.TgZ(55,"dt"),m.TgZ(56,"span",12),m._uU(57,"Created By"),m.qZA(),m.qZA(),m._uU(58,"\n        "),m.TgZ(59,"dd"),m._uU(60),m.qZA(),m._uU(61,"\n\n        "),m.TgZ(62,"dt"),m.TgZ(63,"span",13),m._uU(64,"Created Date"),m.qZA(),m.qZA(),m._uU(65,"\n        "),m.TgZ(66,"dd"),m._uU(67),m.ALo(68,"date"),m.qZA(),m._uU(69,"\n\n        "),m.TgZ(70,"dt"),m.TgZ(71,"span",14),m._uU(72,"Last Modified By"),m.qZA(),m.qZA(),m._uU(73,"\n        "),m.TgZ(74,"dd"),m._uU(75),m.qZA(),m._uU(76,"\n\n        "),m.TgZ(77,"dt"),m.TgZ(78,"span",15),m._uU(79,"Last Modified Date"),m.qZA(),m.qZA(),m._uU(80,"\n        "),m.TgZ(81,"dd"),m._uU(82),m.ALo(83,"date"),m.qZA(),m._uU(84,"\n\n        "),m.TgZ(85,"dt"),m.TgZ(86,"span",16),m._uU(87,"Profiles"),m.qZA(),m.qZA(),m._uU(88,"\n        "),m.TgZ(89,"dd"),m._uU(90,"\n          "),m.TgZ(91,"ul",17),m._uU(92,"\n            "),m.YNc(93,Y,5,1,"li",18),m._uU(94,"\n          "),m.qZA(),m._uU(95,"\n        "),m.qZA(),m._uU(96,"\n      "),m.qZA(),m._uU(97,"\n\n      "),m.TgZ(98,"button",19),m._uU(99,"\n        "),m._UZ(100,"fa-icon",20),m._uU(101,"\xa0"),m.TgZ(102,"span",21),m._uU(103,"Back"),m.qZA(),m._uU(104,"\n      "),m.qZA(),m._uU(105,"\n    "),m.qZA()),2&e){var t=m.oxw();m.xp6(8),m.Oqu(t.user.login),m.xp6(12),m.Oqu(t.user.login),m.xp6(2),m.Q6J("ngIf",t.user.activated),m.xp6(2),m.Q6J("ngIf",!t.user.activated),m.xp6(8),m.Oqu(t.user.firstName),m.xp6(7),m.Oqu(t.user.lastName),m.xp6(7),m.Oqu(t.user.email),m.xp6(7),m.Oqu(t.user.langKey),m.xp6(7),m.Oqu(t.user.createdBy),m.xp6(7),m.Oqu(m.xi3(68,13,t.user.createdDate,"dd/MM/yy HH:mm")),m.xp6(8),m.Oqu(t.user.lastModifiedBy),m.xp6(7),m.Oqu(m.xi3(83,16,t.user.lastModifiedDate,"dd/MM/yy HH:mm")),m.xp6(11),m.Q6J("ngForOf",t.user.authorities)}}var L=function(){var e=function(){function e(n){t(this,e),this.route=n,this.user=null}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe(function(n){var t=n.user;e.user=t})}}]),e}();return e.\u0275fac=function(n){return new(n||e)(m.Y36(u.gz))},e.\u0275cmp=m.Xpm({type:e,selectors:[["jhi-user-mgmt-detail"]],decls:8,vars:1,consts:[[1,"row","justify-content-center"],[1,"col-8"],[4,"ngIf"],["jhiTranslate","userManagement.detail.title"],[1,"row-md","jh-entity-details"],["jhiTranslate","userManagement.login"],["class","badge badge-success","jhiTranslate","userManagement.activated",4,"ngIf"],["class","badge badge-danger","jhiTranslate","userManagement.deactivated",4,"ngIf"],["jhiTranslate","userManagement.firstName"],["jhiTranslate","userManagement.lastName"],["jhiTranslate","userManagement.email"],["jhiTranslate","userManagement.langKey"],["jhiTranslate","userManagement.createdBy"],["jhiTranslate","userManagement.createdDate"],["jhiTranslate","userManagement.lastModifiedBy"],["jhiTranslate","userManagement.lastModifiedDate"],["jhiTranslate","userManagement.profiles"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["type","submit","routerLink","../../",1,"btn","btn-info"],["icon","arrow-left"],["jhiTranslate","entity.action.back"],["jhiTranslate","userManagement.activated",1,"badge","badge-success"],["jhiTranslate","userManagement.deactivated",1,"badge","badge-danger"],[1,"badge","badge-info"]],template:function(e,n){1&e&&(m.TgZ(0,"div",0),m._uU(1,"\n  "),m.TgZ(2,"div",1),m._uU(3,"\n    "),m.YNc(4,Q,106,19,"div",2),m._uU(5,"\n  "),m.qZA(),m._uU(6,"\n"),m.qZA(),m._uU(7,"\n")),2&e&&(m.xp6(4),m.Q6J("ngIf",n.user))},directives:[h.O5,v.P,h.sg,u.rH,_.BN],pipes:[h.uU],encapsulation:2}),e}(),E=r(2039),O=r(7194),D=r(2553),P=r(6006),B=r(6912),H=r(1633);function $(e,n){1&e&&(m.TgZ(0,"h2",8),m._uU(1,"Create or edit a User"),m.qZA())}function R(e,n){1&e&&(m.TgZ(0,"h2",9),m._uU(1,"Create or edit a User"),m.qZA())}function K(e,n){1&e&&(m.TgZ(0,"h2",10),m._uU(1,"Create or edit a User"),m.qZA())}var z=function(){return{max:150}};function G(e,n){1&e&&(m.TgZ(0,"small",19),m._uU(1,"\n              This field cannot be longer than 150 characters.\n            "),m.qZA()),2&e&&m.Q6J("translateValues",m.DdM(1,z))}function V(e,n){if(1&e&&(m.TgZ(0,"div"),m._uU(1,"\n            "),m.YNc(2,G,2,2,"small",18),m._uU(3,"\n          "),m.qZA()),2&e){var t,i=m.oxw(2);m.xp6(2),m.Q6J("ngIf",null==(t=i.editForm.get("fullname"))||null==t.errors?null:t.errors.maxlength)}}function W(e,n){1&e&&m._UZ(0,"input",20)}function X(e,n){1&e&&m._UZ(0,"input",21)}function ee(e,n){1&e&&(m.TgZ(0,"small",24),m._uU(1,"\n              This field is required.\n            "),m.qZA())}var ne=function(){return{max:100}};function te(e,n){1&e&&(m.TgZ(0,"small",19),m._uU(1,"\n              This field cannot be longer than 100 characters.\n            "),m.qZA()),2&e&&m.Q6J("translateValues",m.DdM(1,ne))}function ie(e,n){1&e&&(m.TgZ(0,"small",25),m._uU(1,"\n              Your email is invalid.\n            "),m.qZA())}function ae(e,n){if(1&e&&(m.TgZ(0,"div"),m._uU(1,"\n            "),m.YNc(2,ee,2,0,"small",22),m._uU(3,"\n\n            "),m.YNc(4,te,2,2,"small",18),m._uU(5,"\n\n      \n            "),m.YNc(6,ie,2,0,"small",23),m._uU(7,"\n          "),m.qZA()),2&e){var t,i,a,r=m.oxw(2);m.xp6(2),m.Q6J("ngIf",null==(t=r.editForm.get("email"))||null==t.errors?null:t.errors.required),m.xp6(2),m.Q6J("ngIf",null==(i=r.editForm.get("email"))||null==i.errors?null:i.errors.maxlength),m.xp6(2),m.Q6J("ngIf",null==(a=r.editForm.get("email"))||null==a.errors?null:a.errors.email)}}function re(e,n){1&e&&(m.TgZ(0,"div"),m._uU(1,"\n                "),m.TgZ(2,"small",28),m._uU(3,"\n              "),m.qZA(),m._uU(4,"\n              "),m.qZA())}function ue(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"div",11),m._uU(1,"\n              "),m._UZ(2,"label",26),m._uU(3,"\n              "),m.TgZ(4,"input",27),m.NdJ("keypress",function(e){return m.CHM(t),m.oxw(2).omitSpace(e)}),m.qZA(),m._uU(5,"\n           \n              "),m.YNc(6,re,5,0,"div",6),m._uU(7,"\n      "),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(6),m.Q6J("ngIf",i.editForm.get("passwrd").invalid&&(i.editForm.get("passwrd").dirty||i.editForm.get("passwrd").touched))}}function oe(e,n){if(1&e&&(m.TgZ(0,"option",33),m._uU(1),m.qZA()),2&e){var t=n.$implicit;m.Q6J("value",t.value),m.xp6(1),m.Oqu(t.name)}}function se(e,n){if(1&e&&(m.TgZ(0,"div",11),m._uU(1,"\n          "),m.TgZ(2,"label",29),m._uU(3,"Profiles"),m.qZA(),m._uU(4,"\n          "),m.TgZ(5,"select",30),m._uU(6,"\n            "),m.TgZ(7,"option",31),m._uU(8,"Seleccione Perfil "),m.qZA(),m._uU(9,"\n            "),m.YNc(10,oe,2,2,"option",32),m._uU(11,"\n             "),m.qZA(),m._uU(12,"\n        "),m.qZA()),2&e){var t=m.oxw(2);m.xp6(10),m.Q6J("ngForOf",t.AUTHS_CONTS)}}function le(e,n){if(1&e&&(m.TgZ(0,"div"),m._uU(1,"\n        "),m._UZ(2,"jhi-alert-error"),m._uU(3,"\n        "),m._UZ(4,"jhi-alert"),m._uU(5,"\n          \n        "),m.TgZ(6,"div",11),m._uU(7,"\n          "),m.TgZ(8,"label",12),m._uU(9,"First Name"),m.qZA(),m._uU(10,"\n          "),m._UZ(11,"input",13),m._uU(12,"\n  \n          "),m.YNc(13,V,4,1,"div",6),m._uU(14,"\n        "),m.qZA(),m._uU(15,"\n        "),m.TgZ(16,"div",11),m._uU(17,"\n          "),m.TgZ(18,"label",14),m._uU(19,"Email"),m.qZA(),m._uU(20,"\n          "),m.YNc(21,W,1,0,"input",15),m._uU(22,"\n          "),m.YNc(23,X,1,0,"input",16),m._uU(24,"\n         \n\n          "),m.YNc(25,ae,8,3,"div",6),m._uU(26,"\n        "),m.qZA(),m._uU(27,"\n\n          "),m.YNc(28,ue,8,1,"div",17),m._uU(29,"\n        "),m.YNc(30,se,13,1,"div",17),m._uU(31,"\n      "),m.qZA()),2&e){var t=m.oxw();m.xp6(13),m.Q6J("ngIf",t.editForm.get("fullname").invalid&&(t.editForm.get("fullname").dirty||t.editForm.get("fullname").touched)),m.xp6(8),m.Q6J("ngIf",null==t.user.uuid),m.xp6(2),m.Q6J("ngIf",void 0!==t.user.uuid),m.xp6(2),m.Q6J("ngIf",t.editForm.get("email").invalid&&(t.editForm.get("email").dirty||t.editForm.get("email").touched)),m.xp6(3),m.Q6J("ngIf",null==t.user.uuid),m.xp6(2),m.Q6J("ngIf",!t.isCompany&&null==t.user.uuid)}}function ce(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"button",38),m.NdJ("click",function(){return m.CHM(t),m.oxw(2).previousState()}),m._uU(1,"\n          "),m._UZ(2,"fa-icon",39),m._uU(3,"\xa0"),m.TgZ(4,"span",40),m._uU(5,"Cancel"),m.qZA(),m._uU(6,"\n        "),m.qZA()}}function de(e,n){if(1&e&&(m.TgZ(0,"button",41),m._uU(1,"\n          "),m._UZ(2,"fa-icon",42),m._uU(3,"\xa0"),m.TgZ(4,"span",43),m._uU(5,"Save"),m.qZA(),m._uU(6,"\n        "),m.qZA()),2&e){var t=m.oxw(2);m.Q6J("disabled",t.editForm.invalid||t.isSaving)}}function me(e,n){if(1&e){var t=m.EpF();m.TgZ(0,"button",44),m.NdJ("click",function(){return m.CHM(t),m.oxw(2).update()}),m._uU(1,"\n          "),m._UZ(2,"fa-icon",42),m._uU(3,"\xa0"),m.TgZ(4,"span",45),m._uU(5,"Save"),m.qZA(),m._uU(6,"\n        "),m.qZA()}}function ge(e,n){if(1&e&&(m.TgZ(0,"div",34),m._uU(1,"\n        "),m.YNc(2,ce,7,0,"button",35),m._uU(3,"\n\n        "),m.YNc(4,de,7,1,"button",36),m._uU(5,"\n        "),m.YNc(6,me,7,0,"button",37),m._uU(7,"\n      "),m.qZA()),2&e){var t=m.oxw();m.xp6(2),m.Q6J("ngIf",!t.isCompany&&null==t.user.uuid),m.xp6(2),m.Q6J("ngIf",null==t.user.uuid),m.xp6(2),m.Q6J("ngIf",void 0!==t.user.uuid)}}var fe=function(){var e=function(){function e(n,i,a,r,u,o){t(this,e),this.userService=n,this.route=i,this.fb=a,this.alertService=r,this.accountService=u,this.translate=o,this.isCompany=!1,this.idCompany=0,this.callUpdate=new m.vpe,this.destroy$=new P.xQ,this.languages=D.a,this.authorities=[],this.isSaving=!1,this.account=null,this.AUTHS_CONTS=[{name:"Administrador General",value:"SUPER_USER"},{name:"Administrador de Compa\xf1ia",value:"COMPANY_ADMIN"},{name:"Administrador de Streams",value:"STREAM_ADMIN"}],this.editForm=this.fb.group({email:["",[p.kI.maxLength(254),p.kI.email]],authorities:[],passwrd:["",[p.kI.required,p.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[p.kI.maxLength(150)]]})}return a(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe(function(n){var t=n.user;t&&(e.user=t,void 0===e.user.id&&(e.user.activated=!0),e.updateForm(t))}),this.userService.authorities().subscribe(function(n){return e.authorities=n}),this.accountService.getAuthenticationState().pipe((0,O.R)(this.destroy$)).subscribe(function(n){e.account=n})}},{key:"previousState",value:function(){var e;this.user.login==(null===(e=this.account)||void 0===e?void 0:e.email)?this.alertService.addAlert({type:"success",message:this.translate.instant("global.relogneed"),toast:!1}):window.history.back()}},{key:"save",value:function(){var e=this;this.isSaving=!0,this.updateUser(this.user),void 0!==this.user.uuid?this.userService.update(this.user).subscribe(function(n){e.onSaveSuccess()},function(){return e.onSaveError()}):this.userService.create(this.user).subscribe(function(n){var t;e.isCompany?e.userService.userAdminToUserStream({emailStream:n.email,emailAdmin:null===(t=e.account)||void 0===t?void 0:t.email}).subscribe(function(t){e.userService.userToCompany({id:e.idCompany,idUsuario:n.id,emailUser:n.email}).subscribe(function(t){e.callUpdate.emit({id:n.id,idData:t.id,login:n.email}),e.initForm(),e.isSaving=!1})}):e.onSaveSuccess()},function(){return e.onSaveError()})}},{key:"update",value:function(){var e=this;this.updateUserForUpdate(this.user),this.userService.update(this.user).subscribe(function(n){e.onSaveSuccess()},function(){return e.onSaveError()})}},{key:"omitSpace",value:function(e){return 32!=e.charCode}},{key:"initForm",value:function(){this.editForm=this.fb.group({email:["",[p.kI.maxLength(254),p.kI.email]],authorities:[],passwrd:["",[p.kI.required,p.kI.pattern("((?=.*\\d)(?=.*[$@$!%*#?&])(?=.*[a-z])(?=.*[A-Z]).{8,})")]],fullname:["",[p.kI.maxLength(150)]]})}},{key:"updateForm",value:function(e){this.editForm.patchValue({id:e.uuid,login:e.login,fullname:e.fullName,lastName:e.lastName,email:e.login,activated:e.activated,langKey:e.langKey,authorities:e.authorities})}},{key:"updateUser",value:function(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value,e.authorities=[this.editForm.get(["authorities"]).value],e.password=this.editForm.get(["passwrd"]).value,this.isCompany&&(e.authorities=["STREAM_ADMIN"])}},{key:"updateUserForUpdate",value:function(e){e.fullName=this.editForm.get(["fullname"]).value,e.email=this.editForm.get(["email"]).value}},{key:"onSaveSuccess",value:function(){this.isSaving=!1,this.previousState()}},{key:"onSaveError",value:function(){this.isSaving=!1}}]),e}();return e.\u0275fac=function(n){return new(n||e)(m.Y36(g.x),m.Y36(u.gz),m.Y36(p.qu),m.Y36(B.c),m.Y36(q.B),m.Y36(H.sK))},e.\u0275cmp=m.Xpm({type:e,selectors:[["jhi-user-mgmst-update"]],inputs:{user:"user",isCompany:"isCompany",idCompany:"idCompany"},outputs:{callUpdate:"callUpdate"},decls:19,vars:6,consts:[[1,"row","justify-content-center"],[1,"col-8"],["name","editForm","role","form","novalidate","",3,"formGroup","ngSubmit"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.create",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData",4,"ngIf"],[4,"ngIf"],["style","margin-top:10px;",4,"ngIf"],["id","myUserLabel","jhiTranslate","userManagement.home.createOrEditLabel"],["id","myUserLabel","jhiTranslate","userManagement.home.create"],["id","myUserLabel","jhiTranslate","userManagement.home.updataData"],[1,"form-group","col-md-6"],["jhiTranslate","userManagement.fullname",1,"form-control-label"],["type","text","name","fullname","formControlName","fullname",1,"form-control"],["jhiTranslate","userManagement.email",1,"form-control-label"],["type","email","class","form-control","name","email","formControlName","email",4,"ngIf"],["readonly","","class","form-control","formControlName","email",4,"ngIf"],["class","form-group col-md-6",4,"ngIf"],["class","form-text text-danger","jhiTranslate","entity.validation.maxlength",3,"translateValues",4,"ngIf"],["jhiTranslate","entity.validation.maxlength",1,"form-text","text-danger",3,"translateValues"],["type","email","name","email","formControlName","email",1,"form-control"],["readonly","","formControlName","email",1,"form-control"],["class","form-text text-danger","jhiTranslate","entity.validation.required",4,"ngIf"],["class","form-text text-danger","jhiTranslate","global.messages.validate.email.invalid",4,"ngIf"],["jhiTranslate","entity.validation.required",1,"form-text","text-danger"],["jhiTranslate","global.messages.validate.email.invalid",1,"form-text","text-danger"],["for","passwrd","jhiTranslate","userManagement.password"],["type","text","name","password","value","","formControlName","passwrd",1,"form-control",3,"keypress"],["jhiTranslate","entity.validation.password",1,"form-text","text-danger"],["jhiTranslate","userManagement.profiles"],["name","authority","formControlName","authorities",1,"form-control"],["selected","","value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[2,"margin-top","10px"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","submit","class","btn btn-primary",3,"disabled",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["icon","ban"],["jhiTranslate","entity.action.cancel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["icon","save"],["jhiTranslate","entity.action.save"],["type","button",1,"btn","btn-primary",3,"click"],["jhiTranslate","entity.action.update"]],template:function(e,n){1&e&&(m.TgZ(0,"div",0),m._uU(1,"\n  "),m.TgZ(2,"div",1),m._uU(3,"\n    "),m.TgZ(4,"form",2),m.NdJ("ngSubmit",function(){return n.save()}),m._uU(5,"\n      "),m.YNc(6,$,2,0,"h2",3),m._uU(7,"\n      "),m.YNc(8,R,2,0,"h2",4),m._uU(9,"\n      "),m.YNc(10,K,2,0,"h2",5),m._uU(11,"\n\n      "),m.YNc(12,le,32,6,"div",6),m._uU(13,"\n   \n\n      "),m.YNc(14,ge,8,3,"div",7),m._uU(15,"\n    "),m.qZA(),m._uU(16,"\n  "),m.qZA(),m._uU(17,"\n"),m.qZA(),m._uU(18,"\n")),2&e&&(m.xp6(4),m.Q6J("formGroup",n.editForm),m.xp6(2),m.Q6J("ngIf",!n.isCompany&&null==n.user.uuid),m.xp6(2),m.Q6J("ngIf",n.isCompany&&null==n.user.uuid),m.xp6(2),m.Q6J("ngIf",null!=n.user.uuid),m.xp6(2),m.Q6J("ngIf",n.user),m.xp6(2),m.Q6J("ngIf",n.user))},directives:[p._Y,p.JL,p.sg,h.O5,v.P,U.A,x.w,p.Fj,p.JJ,p.u,p.EJ,p.YN,p.Kr,h.sg,_.BN],encapsulation:2}),e}(),he=function(){var e=function(){function e(n){t(this,e),this.service=n}return a(e,[{key:"resolve",value:function(e){var n=e.params.login;return n?this.service.find(n):(0,s.of)(new l.n)}}]),e}();return e.\u0275fac=function(n){return new(n||e)(m.LFG(g.x))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),pe=[{path:"",component:w,data:{defaultSort:"id,asc"}},{path:":login/view",component:L,resolve:{user:he}},{path:"new",component:E.b,resolve:{user:he},data:{profile:!0}},{path:":login/edit",component:E.b,resolve:{user:he}},{path:":login/allowprofile",component:E.b,resolve:{user:he},data:{profile:!0}},{path:":login/edituser",component:fe,resolve:{user:he}}],ve=function(){var e=function e(){t(this,e)};return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=m.oAB({type:e}),e.\u0275inj=m.cJS({imports:[[o.m,u.Bz.forChild(pe)]]}),e}()},4991:function(e,n,t){t.d(n,{gK:function(){return i},aW:function(){return a},jo:function(){return r},_l:function(){return u}});var i=10,a="asc",r="desc",u="sort"},9044:function(e,n,i){i.d(n,{T:function(){return m}});var r,u=i(6006),o=i(7194),s=i(4477),l=i(8036),c=i(2741),d=i(6059),m=((r=function(){function e(n){var i=this;t(this,e),this.sort=n,this.sortIcon=l.CmM,this.sortAscIcon=l.foy,this.sortDescIcon=l.u9C,this.destroy$=new u.xQ,n.predicateChange.pipe((0,o.R)(this.destroy$)).subscribe(function(){return i.updateIconDefinition()}),n.ascendingChange.pipe((0,o.R)(this.destroy$)).subscribe(function(){return i.updateIconDefinition()})}return a(e,[{key:"onClick",value:function(){this.iconComponent&&this.sort.sort(this.jhiSortBy)}},{key:"ngAfterContentInit",value:function(){this.updateIconDefinition()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"updateIconDefinition",value:function(){if(this.iconComponent){var e=this.sortIcon;this.sort.predicate===this.jhiSortBy&&(e=this.sort.ascending?this.sortAscIcon:this.sortDescIcon),this.iconComponent.icon=e.iconName,this.iconComponent.render()}}}]),e}()).\u0275fac=function(e){return new(e||r)(c.Y36(d.b,1))},r.\u0275dir=c.lG2({type:r,selectors:[["","jhiSortBy",""]],contentQueries:function(e,n,t){var i;1&e&&c.Suo(t,s.BN,5),2&e&&c.iGM(i=c.CRH())&&(n.iconComponent=i.first)},hostBindings:function(e,n){1&e&&c.NdJ("click",function(){return n.onClick()})},inputs:{jhiSortBy:"jhiSortBy"}}),r)},6059:function(e,n,i){i.d(n,{b:function(){return o}});var r,u=i(2741),o=((r=function(){function e(){t(this,e),this.predicateChange=new u.vpe,this.ascendingChange=new u.vpe,this.sortChange=new u.vpe}return a(e,[{key:"predicate",get:function(){return this._predicate},set:function(e){this._predicate=e,this.predicateChange.emit(e)}},{key:"ascending",get:function(){return this._ascending},set:function(e){this._ascending=e,this.ascendingChange.emit(e)}},{key:"sort",value:function(e){this.ascending=e!==this.predicate||!this.ascending,this.predicate=e,this.predicateChange.emit(e),this.ascendingChange.emit(this.ascending),this.sortChange.emit({predicate:this.predicate,ascending:this.ascending})}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275dir=u.lG2({type:r,selectors:[["","jhiSort",""]],inputs:{predicate:"predicate",ascending:"ascending"},outputs:{predicateChange:"predicateChange",ascendingChange:"ascendingChange",sortChange:"sortChange"}}),r)}}])}();